"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[36083],{86695:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var r=t(85893),n=t(11151);const i={title:"Troubleshooting precompilation errors",slug:"/r/c_comp_troubleshoot"},s=void 0,a={id:"guides/packaging/net/asp_net_web_apps/c_comp_troubleshoot",title:"Troubleshooting precompilation errors",description:"This topic lists the known errors reported to Veracode Technical Support, and provides solutions. If you encounter an error not listed here, contact Veracode Technical Support.",source:"@site/docs/guides/03_packaging/19_net/02_asp_net_web_apps/05_c_comp_troubleshoot.md",sourceDirName:"guides/03_packaging/19_net/02_asp_net_web_apps",slug:"/r/c_comp_troubleshoot",permalink:"/km-docusaurus-test/r/c_comp_troubleshoot",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"Troubleshooting precompilation errors",slug:"/r/c_comp_troubleshoot"},sidebar:"tutorialSidebar",previous:{title:"Precompiling ASP.NET WebForms and MVC views with MSBuild",permalink:"/km-docusaurus-test/r/c_precomp_MS"},next:{title:".NET MAUI packaging",permalink:"/km-docusaurus-test/r/NET_MAUI_Application_Packaging"}},l={},c=[{value:"Error: <code>Blank MSBuild Directory Field</code>",id:"error-blank-msbuild-directory-field",level:2},{value:"Error: <code>Publish Fails with One or More Errors Referencing only supported on MSBuild {version} and above</code>",id:"error-publish-fails-with-one-or-more-errors-referencing-only-supported-on-msbuild-version-and-above",level:2},{value:"Project-less templates",id:"project-less-templates",level:2},{value:"Error: <code>It is an error to use a section registered as allowDefinition=&#39;MachineToApplication&#39; beyond application level</code>",id:"error-it-is-an-error-to-use-a-section-registered-as-allowdefinitionmachinetoapplication-beyond-application-level",level:2},{value:"Error: <code>Cannot find the valid AspnetMergePath [path to the local project]</code>",id:"error-cannot-find-the-valid-aspnetmergepath-path-to-the-local-project",level:2},{value:"Visual Studio error: <code>cannot load type&quot; when using Veracode Static for Visual Studio.</code>",id:"visual-studio-error-cannot-load-type-when-using-veracode-static-for-visual-studio",level:2},{value:"Visual Studio error: <code>error ASPPARSE: &#39;Cannot create unknown type&#39;</code>",id:"visual-studio-error-error-aspparse-cannot-create-unknown-type",level:2},{value:"Visual Studio concurrent scenarios:",id:"visual-studio-concurrent-scenarios",level:2},{value:"Visual Studio error: <code>&lt;YourProjectName&gt;\\Global.asax: error ASPPARSE: Could not load type &#39;SampleTypeName.Web.Global&#39;</code>",id:"visual-studio-error-yourprojectnameglobalasax-error-aspparse-could-not-load-type-sampletypenamewebglobal",level:2}];function d(e){const o={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,n.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.p,{children:"This topic lists the known errors reported to Veracode Technical Support, and provides solutions. If you encounter an error not listed here, contact Veracode Technical Support."}),"\n",(0,r.jsx)(o.p,{children:"The two most common problem areas are sometimes related to the MSBuild path value in the preferences window. While the default selection is correct in most cases, there might be scenarios where you need to manually set the MSBuild path to another value."}),"\n",(0,r.jsxs)(o.h2,{id:"error-blank-msbuild-directory-field",children:["Error: ",(0,r.jsx)(o.code,{children:"Blank MSBuild Directory Field"})]}),"\n",(0,r.jsx)(o.p,{children:"Explanation and Solution:"}),"\n",(0,r.jsx)(o.p,{children:"This error occurs if Veracode cannot determine where any version of MSBuild is installed. This scenario occurs if a custom Visual Studio installation location was chosen when installing Visual Studio."}),"\n",(0,r.jsxs)(o.p,{children:["In this scenario, copy the path to the version of MSBuild you want to use which typically is the latest version installed on your machine or a version corresponding to the edition of Visual Studio you are using. You can use the paths listed above as a guide for where to find MSBuild in your custom path location. It is possible that the ",(0,r.jsx)(o.code,{children:"C:\\Program Files (x86)\\"})," is not the same for a custom installation location, so anything at the end of the path should be the same."]}),"\n",(0,r.jsxs)(o.h2,{id:"error-publish-fails-with-one-or-more-errors-referencing-only-supported-on-msbuild-version-and-above",children:["Error: ",(0,r.jsx)(o.code,{children:"Publish Fails with One or More Errors Referencing only supported on MSBuild {version} and above"})]}),"\n",(0,r.jsx)(o.p,{children:"Explanation and Solution:"}),"\n",(0,r.jsxs)(o.p,{children:["In this case, Veracode may have found MSBuild but not the correct version for your scenario. As described in the description of the ",(0,r.jsx)(o.code,{children:"Blank MSBuild Directory Field"})," error, find the path to the MSBuild version you need for your solution and paste the path into the MSBuild Directory field."]}),"\n",(0,r.jsx)(o.h2,{id:"project-less-templates",children:"Project-less templates"}),"\n",(0,r.jsx)(o.p,{children:"Explanation and Solution:"}),"\n",(0,r.jsx)(o.p,{children:"Project-less templates were introduced with Visual Studio 2005 and are most often associated with web forms applications but can also include WCF services and special dynamic data projects."}),"\n",(0,r.jsx)(o.p,{children:"Because the new publish functionality relies on MSBuild, project-less templates require you to choose the Use legacy precompilation method. The reason for this is that the legacy precompilation method uses hard-coded parameters, so it does not require additional MSBuild support."}),"\n",(0,r.jsxs)(o.h2,{id:"error-it-is-an-error-to-use-a-section-registered-as-allowdefinitionmachinetoapplication-beyond-application-level",children:["Error: ",(0,r.jsx)(o.code,{children:"It is an error to use a section registered as allowDefinition='MachineToApplication' beyond application level"})]}),"\n",(0,r.jsx)(o.p,{children:"Explanation and Solution:"}),"\n",(0,r.jsx)(o.p,{children:"Update to the latest version of Veracode Static for Visual Studio. Contact Veracode Technical Support if this does not resolve the problem."}),"\n",(0,r.jsxs)(o.h2,{id:"error-cannot-find-the-valid-aspnetmergepath-path-to-the-local-project",children:["Error: ",(0,r.jsx)(o.code,{children:"Cannot find the valid AspnetMergePath [path to the local project]"})]}),"\n",(0,r.jsx)(o.p,{children:"Explanation and Solution:"}),"\n",(0,r.jsx)(o.p,{children:"This error can occur when precompiling ASPX Forms or MVC Views for .NET on a build server that does not have Visual Studio installed, or the server has a non standard configuration, which can happen if you use dedicated build servers."}),"\n",(0,r.jsxs)(o.p,{children:["To resolve this error, you must introduce an additional MSBuild parameter that provides the location where the ",(0,r.jsx)(o.code,{children:"aspnet_merge.exe"})," file is located. The path should be the correct path for the version of the .NET framework you use:"]}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.code,{children:"/p:AspnetMergePath=<path_to_folder_where_aspnet_merge.exe_is_located>"})}),"\n",(0,r.jsxs)(o.p,{children:["The ",(0,r.jsx)(o.code,{children:"aspnet_merge.exe"})," is usually located in a folder below the path ",(0,r.jsx)(o.code,{children:"C:\\Program Files(x86)\\Microsoft SDKs\\Windows\\vXX.XX\\bin"}),"."]}),"\n",(0,r.jsxs)(o.h2,{id:"visual-studio-error-cannot-load-type-when-using-veracode-static-for-visual-studio",children:["Visual Studio error: ",(0,r.jsx)(o.code,{children:'cannot load type" when using Veracode Static for Visual Studio.'})]}),"\n",(0,r.jsx)(o.p,{children:"Explanation and Solution:"}),"\n",(0,r.jsx)(o.p,{children:"There are three possible reasons for this error:"}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsx)(o.li,{children:"It is possible that the type name that cannot be found is not part of the current Visual Studio project, although it is in your environment, such as the build configuration management file system. To solve this, locate the module that the undefined type or variable name is defined in and add it to the solution. Rebuild and precompile again."}),"\n",(0,r.jsx)(o.li,{children:"The second possible reason is that there is a misconfigured setting or a build error. To solve this, try cleaning, rebuilding, and reviewing the project properties."}),"\n",(0,r.jsxs)(o.li,{children:["The third possibility is that a specific Microsoft .NET system DLL is not loading. For example, if the ",(0,r.jsx)(o.code,{children:"System.Data.Entity.Design"})," assembly is not loading, add the following to the ",(0,r.jsx)(o.code,{children:"web.config"})," file for the application's .NET solution:",(0,r.jsx)(o.code,{children:'<add assembly="System.Data.Entity.Design, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />'})]}),"\n"]}),"\n",(0,r.jsx)(o.p,{children:"These are some of the common reasons. Contact Veracode Technical Support for more details, if necessary."}),"\n",(0,r.jsxs)(o.h2,{id:"visual-studio-error-error-aspparse-cannot-create-unknown-type",children:["Visual Studio error: ",(0,r.jsx)(o.code,{children:"error ASPPARSE: 'Cannot create unknown type'"})]}),"\n",(0,r.jsx)(o.p,{children:"Explanation and Solution:"}),"\n",(0,r.jsx)(o.p,{children:"In the Solution Explorer, a project references an assembly but the type is not part of the actual configuration-managed references visible to the VS solution's projects. You must add the reference component to the project."}),"\n",(0,r.jsx)(o.p,{children:"To rectify this issue, in the Solution Explorer window:"}),"\n",(0,r.jsxs)(o.ol,{children:["\n",(0,r.jsx)(o.li,{children:"Locate the project that contains the file with the error."}),"\n",(0,r.jsx)(o.li,{children:"Remove the reference to the Project that contains the unknown type."}),"\n",(0,r.jsxs)(o.li,{children:["Right-click ",(0,r.jsx)(o.strong,{children:"References"})," > ",(0,r.jsx)(o.strong,{children:"Add references"}),"."]}),"\n",(0,r.jsxs)(o.li,{children:["Add a reference to the project and not to the ",(0,r.jsx)(o.code,{children:".dll"})," produced by the project."]}),"\n"]}),"\n",(0,r.jsx)(o.h2,{id:"visual-studio-concurrent-scenarios",children:"Visual Studio concurrent scenarios:"}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsx)(o.li,{children:"Upload and Scan (Incomplete) shows in the Veracode menu and in the Solution Files section for the application."}),"\n",(0,r.jsx)(o.li,{children:"One or more sample project name (NOT FOUND) messages appear."}),"\n",(0,r.jsx)(o.li,{children:"Unable to select the checkbox containing this project name."}),"\n"]}),"\n",(0,r.jsx)(o.p,{children:"Explanation and Solution:"}),"\n",(0,r.jsxs)(o.p,{children:["Veracode Static for Visual Studio ran ",(0,r.jsx)(o.code,{children:"aspnet_compiler.exe"}),", which did not successfully build the ASP.NET project. Review the contents of the Visual Studio Output and Error List windows to identify the errors causing the project to not build successfully. Then, correct the errors and rebuild using the key for Veracode Static for Visual Studio."]}),"\n",(0,r.jsx)(o.admonition,{type:"note",children:(0,r.jsx)(o.p,{children:"Veracode requires you to supply all the forms the application uses. If you do not submit precompiled forms, the scan might produce incomplete or incorrect results."})}),"\n",(0,r.jsxs)(o.p,{children:["See ",(0,r.jsx)(o.a,{href:"/km-docusaurus-test/r/compilation_ASPnet",children:"Packaging ASP.NET Web Applications"})]}),"\n",(0,r.jsxs)(o.h2,{id:"visual-studio-error-yourprojectnameglobalasax-error-aspparse-could-not-load-type-sampletypenamewebglobal",children:["Visual Studio error: ",(0,r.jsx)(o.code,{children:"<YourProjectName>\\Global.asax: error ASPPARSE: Could not load type 'SampleTypeName.Web.Global'"})]}),"\n",(0,r.jsx)(o.p,{children:"Explanation and Solution:"}),"\n",(0,r.jsx)(o.p,{children:"Update to the latest version of Veracode Static for Visual Studio. Contact Veracode Technical Support if this solution does not resolve the problem."})]})}function h(e={}){const{wrapper:o}={...(0,n.a)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},11151:(e,o,t)=>{t.d(o,{Z:()=>a,a:()=>s});var r=t(67294);const n={},i=r.createContext(n);function s(e){const o=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),r.createElement(i.Provider,{value:o},e.children)}}}]);