"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[77256],{7530:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>o,contentTitle:()=>c,default:()=>u,frontMatter:()=>t,metadata:()=>r,toc:()=>l});var s=i(85893),a=i(11151);const t={title:"Scanning containers with agent-based scanning",slug:"/r/c_sc_container_scan"},c=void 0,r={id:"guides/SCA/using_agent_based_scans/finding_and_fixing_vulnerabilities/scanning_containers_agent",title:"Scanning containers with agent-based scanning",description:"Container scanning extends the Veracode vulnerability database and SCA technology to system libraries in Docker containers.",source:"@site/docs/guides/07_SCA/04_using_agent_based_scans/19_finding_and_fixing_vulnerabilities/13_scanning_containers_agent.md",sourceDirName:"guides/07_SCA/04_using_agent_based_scans/19_finding_and_fixing_vulnerabilities",slug:"/r/c_sc_container_scan",permalink:"/km-docusaurus-test/r/c_sc_container_scan",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:13,frontMatter:{title:"Scanning containers with agent-based scanning",slug:"/r/c_sc_container_scan"},sidebar:"tutorialSidebar",previous:{title:"Agent-based scan language support matrix",permalink:"/km-docusaurus-test/r/c_sc_agent_languages"},next:{title:"Video: Scan a Container with Agent-Based Scanning",permalink:"/km-docusaurus-test/r/c_sc_video_container_scan"}},o={},l=[{value:"CLI container scanning",id:"cli-container-scanning",level:2},{value:"Continuous integration container scanning",id:"continuous-integration-container-scanning",level:2},{value:"Viewing container scanning results",id:"viewing-container-scanning-results",level:2}];function d(n){const e={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.p,{children:"Container scanning extends the Veracode vulnerability database and SCA technology to system libraries in Docker containers."}),"\n",(0,s.jsxs)(e.p,{children:["For the latest Veracode container scanning functionality, see ",(0,s.jsx)(e.a,{href:"/km-docusaurus-test/r/Veracode_Container_Security",children:"Veracode Container Security"}),"."]}),"\n",(0,s.jsx)(e.p,{children:"Veracode Software Composition Analysis agent-based scanning supports container scanning for these Linux distributions:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"RHEL 7"}),"\n",(0,s.jsx)(e.li,{children:"CentOS 6 and 7"}),"\n",(0,s.jsx)(e.li,{children:"Alpine 3"}),"\n",(0,s.jsx)(e.li,{children:"Debian 8, 9, and 10"}),"\n",(0,s.jsx)(e.li,{children:"Ubuntu 16.04, 18.04, 20.04, 20.10, and 21.04"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"You must have one of these package managers installed on your machine:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"yum"}),"\n",(0,s.jsx)(e.li,{children:"pip"}),"\n",(0,s.jsx)(e.li,{children:"NPM"}),"\n",(0,s.jsx)(e.li,{children:"gem"}),"\n",(0,s.jsx)(e.li,{children:"apk"}),"\n",(0,s.jsx)(e.li,{children:"apt"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"When using yum, Veracode recommends you have the permissions to run yum updates in the container without root privileges."}),"\n",(0,s.jsx)(e.p,{children:"For RHEL Linux containers, agent-based scanning only supports official RHEL Docker images, which require a RHEL subscription."}),"\n",(0,s.jsx)(e.h2,{id:"cli-container-scanning",children:"CLI container scanning"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Images"})}),"\n",(0,s.jsxs)(e.p,{children:["To scan a Docker image, use ",(0,s.jsx)(e.code,{children:"--image"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-docker",children:"$ docker images --format '{{.Repository}}:{{.Tag}}'\ncentos:7\n \n$ srcclr scan --image centos:7\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Containers"})}),"\n",(0,s.jsxs)(e.p,{children:["To scan a container running locally, pass the container ID or name to ",(0,s.jsx)(e.code,{children:"--container"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"$ docker ps --format '{{.ID}}'\n2ca861ab7e85\n  srcclr scan --container 2ca861ab7e85 \n \n$ docker ps --format '{{.Names}}'\ncompassionate_shirley\n \n$ srcclr scan --container compassionate_shirley \n"})}),"\n",(0,s.jsx)(e.admonition,{type:"note",children:(0,s.jsx)(e.p,{children:"These repository-specific features are not available for container scanning: vulnerable methods, lines of code, and SCM-specific concepts such as branches."})}),"\n",(0,s.jsx)(e.h2,{id:"continuous-integration-container-scanning",children:"Continuous integration container scanning"}),"\n",(0,s.jsx)(e.p,{children:"To scan a Docker image using the continuous integration (CI) agent, modify the existing cURL script for the Veracode SCA agent to:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"curl -sSL https://download.sourceclear.com/ci.sh | sh -s scan --image <image name>\n"})}),"\n",(0,s.jsx)(e.admonition,{type:"note",children:(0,s.jsx)(e.p,{children:"The Travis CI addon, which does not use this cURL script, does not support scanning Docker images."})}),"\n",(0,s.jsx)(e.h2,{id:"viewing-container-scanning-results",children:"Viewing container scanning results"}),"\n",(0,s.jsxs)(e.p,{children:["After your agent-based scan is complete, you can ",(0,s.jsx)(e.a,{href:"/km-docusaurus-test/r/Viewing_Agent_Based_Scan_Results",children:"view the vulnerabilities"})," in your container from the project page in the Veracode Platform."]})]})}function u(n={}){const{wrapper:e}={...(0,a.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},11151:(n,e,i)=>{i.d(e,{Z:()=>r,a:()=>c});var s=i(67294);const a={},t=s.createContext(a);function c(n){const e=s.useContext(t);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:c(n.components),s.createElement(t.Provider,{value:e},n.children)}}}]);