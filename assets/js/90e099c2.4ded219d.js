"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[66409],{62172:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>p,frontMatter:()=>i,metadata:()=>c,toc:()=>a});var r=o(85893),t=o(11151);const i={title:"Configure your Codeship Pro project",slug:"/r/Configure_Your_Codeship_Pro_Project"},s=void 0,c={id:"guides/SCA/setting_up_agent_based_scans/continuous_integration/codeship/configure_codeship_pro_project",title:"Configure your Codeship Pro project",description:"Before you begin:",source:"@site/docs/guides/07_SCA/03_setting_up_agent_based_scans/01_continuous_integration/05_codeship/03_configure_codeship_pro_project.md",sourceDirName:"guides/07_SCA/03_setting_up_agent_based_scans/01_continuous_integration/05_codeship",slug:"/r/Configure_Your_Codeship_Pro_Project",permalink:"/km-docusaurus-test/r/Configure_Your_Codeship_Pro_Project",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Configure your Codeship Pro project",slug:"/r/Configure_Your_Codeship_Pro_Project"},sidebar:"tutorialSidebar",previous:{title:"Configure your Codeship Basic repository",permalink:"/km-docusaurus-test/r/t_sc_codeship_pipeline"},next:{title:"Integrating agent-based scanning with GitLab",permalink:"/km-docusaurus-test/r/Create_Your_Agent_Based_Scanning_Authentication_Token_for_GitLab_CI"}},d={},a=[];function l(e){const n={a:"a",code:"code",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,t.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Before you begin:"})}),"\n",(0,r.jsxs)(n.p,{children:["Generate an Advanced Encryption Standard (AES) key and place the key in a ",(0,r.jsx)(n.code,{children:"codeship.aes"})," file in the root of your project directory. Read additional ",(0,r.jsx)(n.a,{href:"https://documentation.codeship.com/pro/builds-and-configuration/environment-variables/#encrypted-environment-variables",children:"documentation on generating an AES key"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"To complete this task:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Edit the text file containing your environment variables, which you encrypt prior to committing your code."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Add the ",(0,r.jsx)(n.code,{children:"SRCCLR_API_TOKEN"})," to the file and set it to the authentication token you generated above."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Save the environment variable file."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Encrypt the environment variables using Jet ",(0,r.jsx)(n.a,{href:"https://documentation.codeship.com/pro/jet-cli/usage-overview/",children:"CLI"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["A file is generated, called ",(0,r.jsx)(n.code,{children:"env.encrypted"})," in this example, with the encrypted environment variables ",(0,r.jsx)(n.code,{children:"jet encrypt env env.encrypted"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Before you commit your code, add the env file to your ",(0,r.jsx)(n.code,{children:".gitignore"}),", or delete the file after you create it."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Edit the ",(0,r.jsx)(n.code,{children:"codeship-services.yml"})," file, and use the ",(0,r.jsx)(n.code,{children:"encrypted_env_file"})," directive to add your encrypted environment variables from the ",(0,r.jsx)(n.code,{children:"env.encrypted"})," file to your build process:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"app: build: image: myorg/appname dockerfile_path: Dockerfile encrypted_env_file: env.encrypted \n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["To scan using Veracode Software Composition Analysis agent-based scanning, in your project, edit the ",(0,r.jsx)(n.code,{children:"codeship-steps.yml"})," file and add this step after your build step:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'- name: sourceclear\n  service: app\n  command:  sh -c "curl -sSL https://download.sourceclear.com/ci.sh | sh\u201d\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Commit the changes to your repository."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Results:"})}),"\n",(0,r.jsxs)(n.p,{children:["The next time you run your build through Codeship Pro, Veracode SCA performs an agent-based scan of your repository. For details on configuring your Codeship Pro project, see the ",(0,r.jsx)(n.a,{href:"https://documentation.codeship.com/pro/jet-cli/usage-overview/",children:"Codeship Pro documentation"}),"."]})]})}function p(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},11151:(e,n,o)=>{o.d(n,{Z:()=>c,a:()=>s});var r=o(67294);const t={},i=r.createContext(t);function s(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);