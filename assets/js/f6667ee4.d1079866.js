"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2051],{82830:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>o,toc:()=>u});var i=t(85893),a=t(11151);const s={title:"Create an authenticated Dynamic Analysis with the REST API",slug:"/r/t_dynamic_logins"},r=void 0,o={id:"guides/apis/rest_apis/dynamic_rest_api/dynamic_api_create_authenticated",title:"Create an authenticated Dynamic Analysis with the REST API",description:"You can use the Dynamic Analysis API to create an analysis that uses auto-login, basic authentication, form-based login with a login script, and custom HTTP headers. The scan generates a unique identifier (UUID) for your specified authentication method.",source:"@site/docs/guides/14_apis/04_rest_apis/05_dynamic_rest_api/07_dynamic_api_create_authenticated.md",sourceDirName:"guides/14_apis/04_rest_apis/05_dynamic_rest_api",slug:"/r/t_dynamic_logins",permalink:"/km-docusaurus-test/r/t_dynamic_logins",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{title:"Create an authenticated Dynamic Analysis with the REST API",slug:"/r/t_dynamic_logins"},sidebar:"tutorialSidebar",previous:{title:"Create a credentials variable for Dynamic Analysis login scripts with the REST API",permalink:"/km-docusaurus-test/r/Create_a_Credentials_Variable_for_Dynamic_Analysis_Login_Scripts_with_the_REST_API"},next:{title:"Create a Dynamic Analysis with a crawl script using the REST API",permalink:"/km-docusaurus-test/r/Create_a_Dynamic_Analysis_with_a_Crawl_Script_Using_the_REST_API"}},c={},u=[{value:"Auto-login",id:"auto-login",level:2},{value:"Client Certificate",id:"client-certificate",level:2},{value:"Basic Authentication",id:"basic-authentication",level:2},{value:"Form-Based Login with Login Script",id:"form-based-login-with-login-script",level:2},{value:"Custom Headers",id:"custom-headers",level:2},{value:"Authentication Method ID",id:"authentication-method-id",level:2}];function l(n){const e={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,a.a)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.p,{children:["You can use the Dynamic Analysis API to create an analysis that uses auto-login, basic authentication, form-based login with a login script, and custom HTTP headers. The scan generates a ",(0,i.jsx)(e.a,{href:"#authentication-method-id",children:"unique identifier (UUID) for your specified authentication method"}),"."]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"To complete this task:"})}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Enter values for the ",(0,i.jsx)(e.code,{children:"scan_config_request"}),", ",(0,i.jsx)(e.code,{children:"auth_configuration"}),", and ",(0,i.jsx)(e.code,{children:"schedule"})," properties in the JSON file."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Send the following request:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-shell",children:'http --auth-type=veracode_hmac POST "https://api.veracode.com/was/configservice/v1/analyses" < input.json\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"These are examples of the different types of authentication you can use with a Dynamic Analysis:"}),"\n",(0,i.jsx)(e.h2,{id:"auto-login",children:"Auto-login"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n  "name": "Name-of-Your-Dynamic-Analysis",\n  "scans": [\n    {\n      "scan_config_request": {\n        "target_url": {\n          "url": "http://www.example.com",\n          "http_and_https": true,\n          "directory_restriction_type": "DIRECTORY_AND_SUBDIRECTORY"\n        },\n        "auth_configuration": {\n          "authentications": {\n            "AUTO": {\n              "username": "{your_username}",\n              "password": "{your_password}",\n              "authtype": "AUTO"\n            }\n          }\n        }\n      }\n    }\n  ],\n  "schedule": {\n    "now": true,\n    "duration": {\n      "length": 1,\n      "unit": "DAY"\n    }\n  }\n}          \n'})}),"\n",(0,i.jsx)(e.h2,{id:"client-certificate",children:"Client Certificate"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n  "name": "Name-of-Your-Dynamic-Analysis",\n  "scans": [\n    {\n      "scan_config_request": {\n        "target_url": {\n          "url": "http://www.example.com",\n          "http_and_https": true,\n          "directory_restriction_type": "DIRECTORY_AND_SUBDIRECTORY"\n        },\n        "auth_configuration": {\n          "authentications": {\n            "CERT": {\n              "cert_name": "{certificate_name.p12}",\n              "password": "{your_password}",\n              "base64_pkcs12": "{base64 encoded p12 cert}",\n              "authtype": "CERT"\n            }\n          }\n        }\n      }\n    }\n  ],\n  "schedule": {\n    "now": true,\n    "duration": {\n      "length": 1,\n      "unit": "DAY"\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"basic-authentication",children:"Basic Authentication"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n  "name": "Name-of-Your-Dynamic-Analysis",\n  "scans": [\n    {\n      "scan_config_request": {\n        "target_url": {\n          "url": "http://www.example.com",\n          "http_and_https": true,\n          "directory_restriction_type": "DIRECTORY_AND_SUBDIRECTORY"\n        },\n        "auth_configuration": {\n          "authentications": {\n            "BASIC": {\n              "username": "{your_username}",\n              "password": "{your_password}",\n              "authtype": "BASIC"\n            }\n          }\n        }\n      }\n    }\n  ],\n  "schedule": {\n    "now": true,\n    "duration": {\n      "length": 1,\n      "unit": "DAY"\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"form-based-login-with-login-script",children:"Form-Based Login with Login Script"}),"\n",(0,i.jsxs)(e.p,{children:["Before adding the crawl script to the API body, you must escape the JSON. If you need assistance, use the JSON escape utility available from ",(0,i.jsx)("a",{href:"https://jsonformatter.org",children:(0,i.jsx)(e.a,{href:"https://jsonformatter.org",children:"https://jsonformatter.org"})}),"."]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n  "name": "Name-of-Your-Dynamic-Analysis",\n  "scans": [\n    {\n      "scan_config_request": {\n        "target_url": {\n          "url": "http://www.example.com",\n          "http_and_https": true,\n          "directory_restriction_type": "DIRECTORY_AND_SUBDIRECTORY"\n        },\n        "auth_configuration": {\n          "authentications": {\n            "FORM": {\n              "script_file": "{example_login_script.side}",\n              "login_script_data": {\n                "script_body": "{script_as_escaped_JSON}",\n                "script_type": "SELENIUM"\n              },\n              "authtype": "FORM"\n            }\n          }\n        }\n      }\n    }\n  ],\n  "schedule": {\n    "now": true,\n    "duration": {\n      "length": 1,\n      "unit": "DAY"\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(e.h2,{id:"custom-headers",children:"Custom Headers"}),"\n",(0,i.jsx)(e.p,{children:"The following example is for a Dynamic Analysis of an API."}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-json",children:'{\n  "name": "Name-of-Your-Dynamic-Analysis",\n  "scans": [\n    {\n      "scan_config_request": {\n        "target_url": {\n          "url": "http://www.example.com",\n          "http_and_https": true\n        },\n        "auth_configuration": {\n          "authentications": {\n            "HEADER": {\n              "authtype": "HEADER",\n              "headers": [\n                {\n                  "key": "{header_name}",\n                  "value": "{your_custom_header}",\n                  "url": "{optional_target_url}"\n                },\n                {\n                  "key": "{header_name}",\n                  "value": "{your_custom_header}",\n                  "url": "{optional_target_url}"\n                }\n              ]\n            }\n          }\n        },\n         "api_scan_setting": {\n            "spec_id": "{API_specification_ID}"\n         }\n      },\n       "internal_scan_configuration": {\n          "enabled": false,\n          "endpoint_id": "",\n          "gateway_id": ""\n       }\n    }\n  ],\n"visibility": {\n   "setup_type": "SEC_LEADS_ONLY",\n   "team_identifiers": []\n},\n      "schedule": {\n        "now": true,\n        "duration": {\n          "length": 1,\n          "unit": "DAY"\n        }\n      }\n    }\n'})}),"\n",(0,i.jsx)(e.h2,{id:"authentication-method-id",children:"Authentication Method ID"}),"\n",(0,i.jsx)(e.p,{children:"When you run a Dynamic Analysis scan, it generates a unique identifier (UUID) for your specified authentication method."}),"\n",(0,i.jsxs)(e.p,{children:["To retrieve the UUID for a scan, send a GET to ",(0,i.jsx)(e.code,{children:"/v1/scans/{scan_id}/configuration"}),", where ",(0,i.jsx)(e.code,{children:"scan_id"})," is the ID of your scan.\nIn the response, the UUID is the value of the ",(0,i.jsx)(e.code,{children:"authentication_id"})," property."]}),"\n",(0,i.jsxs)(e.p,{children:["You do not need to include the ",(0,i.jsx)(e.code,{children:"authentication_id"})," property when you send a request."]})]})}function d(n={}){const{wrapper:e}={...(0,a.a)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(l,{...n})}):l(n)}},11151:(n,e,t)=>{t.d(e,{Z:()=>o,a:()=>r});var i=t(67294);const a={},s=i.createContext(a);function r(n){const e=i.useContext(s);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:r(n.components),i.createElement(s.Provider,{value:e},n.children)}}}]);