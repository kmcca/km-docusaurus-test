"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4940],{49372:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var t=i(85893),s=i(11151);const r={title:"Python packaging",slug:"/r/compilation_python"},a=void 0,o={id:"guides/packaging/python",title:"Python packaging",description:"Your Python applications must meet specific compilation requirements before you can submit them for scanning.",source:"@site/docs/guides/03_packaging/25_python.md",sourceDirName:"guides/03_packaging",slug:"/r/compilation_python",permalink:"/km-docusaurus-test/r/compilation_python",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:25,frontMatter:{title:"Python packaging",slug:"/r/compilation_python"},sidebar:"tutorialSidebar",previous:{title:"PL/SQL packaging",permalink:"/km-docusaurus-test/r/c_compilation_plsql"},next:{title:"React Native packaging",permalink:"/km-docusaurus-test/r/c_compilation_react"}},d={},c=[{value:"Required files",id:"required-files",level:2},{value:"Supported Python versions",id:"supported-python-versions",level:2},{value:"Supported Python frameworks and libraries",id:"supported-python-frameworks-and-libraries",level:2},{value:"Packaging guidance",id:"packaging-guidance",level:2},{value:"Packaging AWS Lambda applications",id:"packaging-aws-lambda-applications",level:2},{value:"Identifying Lambda function handlers for Python",id:"identifying-lambda-function-handlers-for-python",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Your Python applications must meet specific compilation requirements before you can submit them for scanning."}),"\n",(0,t.jsxs)(n.p,{children:["See ",(0,t.jsx)(n.a,{href:"/km-docusaurus-test/r/r_supported_table",children:"Supported languages and platforms"})," for instructions for other platforms."]}),"\n",(0,t.jsxs)(n.p,{children:["You can analyze applications using Veracode Static Analysis or Veracode Software Composition Analysis (SCA) upload and scan, if licensed. For SCA agent-based scan requirements, see ",(0,t.jsx)(n.a,{href:"/km-docusaurus-test/r/Using_Veracode_SCA_with_Programming_Languages",children:"Using Veracode SCA with Programming Languages"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"required-files",children:"Required files"}),"\n",(0,t.jsx)(n.p,{children:"Veracode requires all source files for the application, including HTML template files, such as Flask/Django."}),"\n",(0,t.jsx)(n.p,{children:"Veracode can also analyze Jython applications that you submit as source."}),"\n",(0,t.jsx)(n.h2,{id:"supported-python-versions",children:"Supported Python versions"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Language"}),(0,t.jsx)(n.th,{children:"Supported versions"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Python"}),(0,t.jsx)(n.td,{children:"2.x, 3.x"})]})})]}),"\n",(0,t.jsx)(n.h2,{id:"supported-python-frameworks-and-libraries",children:"Supported Python frameworks and libraries"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Framework/Library"}),(0,t.jsx)(n.th,{children:"Supported versions"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"AWS SDK for Python (Boto3)"}),(0,t.jsx)(n.td,{children:"1.x"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Azure Functions"}),(0,t.jsx)(n.td,{children:"3.x"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Cryptography"}),(0,t.jsx)(n.td,{children:"0.6\u20131.x"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Django"}),(0,t.jsx)(n.td,{children:"1.x, 3.x, 4.x"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Flask"}),(0,t.jsx)(n.td,{children:"0.x-2.x"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"httplib2"}),(0,t.jsx)(n.td,{children:"0.9.2 and earlier"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Jinja Template Library"}),(0,t.jsx)(n.td,{children:"2.x"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"Requests"}),(0,t.jsx)(n.td,{children:"2.x"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"SQLAlchemy"}),(0,t.jsx)(n.td,{children:".9.x\u20131.x"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"packaging-guidance",children:"Packaging guidance"}),"\n",(0,t.jsxs)(n.p,{children:["Upload a compressed ZIP archive containing all Python and HTML code, maintaining the project structure, to Veracode. Do not include third-party packages. Do not upload individual Python source files. If using Veracode Software Composition Analysis, include ",(0,t.jsx)(n.code,{children:"Pipfile.lock"})," in the root of your ZIP archive."]}),"\n",(0,t.jsx)(n.p,{children:"Veracode scans only files with these extensions:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"PY"}),"\n",(0,t.jsx)(n.li,{children:"HTML"}),"\n",(0,t.jsx)(n.li,{children:"HTM"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"packaging-aws-lambda-applications",children:"Packaging AWS Lambda applications"}),"\n",(0,t.jsxs)(n.p,{children:["Veracode requires you to submit applications built for AWS Lambda according to the AWS Lambda Deployment Package formats. For information, see ",(0,t.jsx)(n.a,{href:"https://docs.aws.amazon.com",children:"https://docs.aws.amazon.com/"})," and search for AWS Lambda Deployment Package in Python."]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["Veracode does not support the analysis of dependencies submitted as ",(0,t.jsx)(n.a,{href:"/km-docusaurus-test/r/c_lambda_layers",children:"Lambda layers"}),". To analyze Lambda components deployed in layers, submit them as standard deployment packages, or consider repackaging the function to include layer components as part of the lambda function package."]})}),"\n",(0,t.jsx)(n.h2,{id:"identifying-lambda-function-handlers-for-python",children:"Identifying Lambda function handlers for Python"}),"\n",(0,t.jsx)(n.p,{children:"In Python, function handlers must have at least two positional (default) parameters. The function handlers may have additional parameters that must have initial values set because AWS Lambda passes data only to the first two positional parameters."}),"\n",(0,t.jsx)(n.p,{children:"To detect Lambda function handlers for Python, Veracode accepts the YAML and YML configuration files included as part of the uploaded package from the Serverless and AWS SAM frameworks. Veracode parses these configuration files to identify the function handlers defined in the uploaded artifact. Veracode uses these configuration files to identify the configuration of layers or other settings."}),"\n",(0,t.jsx)(n.p,{children:"When a deployment package does not contain a YAML configuration file, Veracode applies this heuristic to identify the candidate source files in which to look for function handlers in the deployment package:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["If a directory called ",(0,t.jsx)(n.code,{children:"functions"})," exists, Veracode recognizes every Python file in every subdirectory below ",(0,t.jsx)(n.code,{children:"functions"})," as a candidate source file. Veracode does not consider files in any directories one level below ",(0,t.jsx)(n.code,{children:"functions"})," as candidate files."]}),"\n",(0,t.jsx)(n.p,{children:"For example, in the following directory structure, the candidate files are:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"functions/one/primero.py"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"functions/two/orangefunc.py"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"functions/two/utils.py"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:".\n\u2514\u2500\u2500 functions\n    \u251c\u2500\u2500 one\n    \u2502   \u251c\u2500\u2500 misc\n    \u2502   \u2502   \u2514\u2500\u2500 utils.py\n    \u2502   \u2514\u2500\u2500 primero.py\n    \u2514\u2500\u2500 two\n        \u251c\u2500\u2500 orangefunc.py\n        \u2514\u2500\u2500 utils.py\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Every Python file in the top-level directory of the archive is a candidate source file."}),"\n",(0,t.jsxs)(n.p,{children:["For example, in the following directory structure, the only candidate file is ",(0,t.jsx)(n.code,{children:"primero.py"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"  .\n  \u251c\u2500\u2500 misc\n  \u2502   \u2514\u2500\u2500 utils.py\n  \u2514\u2500\u2500 primero.py\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"After Veracode identifies a candidate file, functions with exactly two parameters or with more parameters where all additional parameters have initial values set are considered function handlers. Example candidate function handlers are:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"def lambda_handler(event, context):"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"def different_func(evt, ctx, xyz=123):"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"This function cannot be a function handler:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"def different_func(event):"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},11151:(e,n,i)=>{i.d(n,{Z:()=>o,a:()=>a});var t=i(67294);const s={},r=t.createContext(s);function a(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);