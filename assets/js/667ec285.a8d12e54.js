"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[34360],{4733:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>a,toc:()=>r});var i=t(85893),s=t(11151);const c={title:"Java scan directives",slug:"/r/Java_Scan_Directives"},l=void 0,a={id:"guides/SCA/using_agent_based_scans/scan_directives_agent/java_scan_directives",title:"Java scan directives",description:"compile_first",source:"@site/docs/guides/07_SCA/04_using_agent_based_scans/10_scan_directives_agent/03_java_scan_directives.md",sourceDirName:"guides/07_SCA/04_using_agent_based_scans/10_scan_directives_agent",slug:"/r/Java_Scan_Directives",permalink:"/km-docusaurus-test/r/Java_Scan_Directives",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Java scan directives",slug:"/r/Java_Scan_Directives"},sidebar:"tutorialSidebar",previous:{title:"Multi-language scan directives",permalink:"/km-docusaurus-test/r/Multi_Language_Scan_Directives"},next:{title:"Ruby scan directives",permalink:"/km-docusaurus-test/r/Ruby_Scan_Directives"}},d={},r=[{value:"<code>compile_first</code>",id:"compile_first",level:2},{value:"<code>install_first</code>",id:"install_first",level:2},{value:"<code>custom_maven_command</code>",id:"custom_maven_command",level:2},{value:"<code>custom_maven_exec</code>",id:"custom_maven_exec",level:2},{value:"<code>custom_gradle_exec</code>",id:"custom_gradle_exec",level:2},{value:"<code>custom_ant_exec</code>",id:"custom_ant_exec",level:2},{value:"<code>ant_build_steps</code>",id:"ant_build_steps",level:2},{value:"<code>ivy_settings_filename</code>",id:"ivy_settings_filename",level:2},{value:"<code>ant_lib_dir</code>",id:"ant_lib_dir",level:2},{value:"<code>gradle_location</code>",id:"gradle_location",level:2},{value:"<code>gradle_tasks</code>",id:"gradle_tasks",level:2},{value:"<code>gradle_filter_task</code>",id:"gradle_filter_task",level:2},{value:"<code>dependency_tree_file</code>",id:"dependency_tree_file",level:2}];function o(e){const n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"compile_first",children:(0,i.jsx)(n.code,{children:"compile_first"})}),"\n",(0,i.jsx)(n.p,{children:"Boolean value that forces the Veracode SCA agent to perform a compilation prior to scanning. Only applicable for Maven."}),"\n",(0,i.jsxs)(n.p,{children:["Default value: ",(0,i.jsx)(n.code,{children:"true"})]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"compile_first: false\n"})}),"\n",(0,i.jsx)(n.h2,{id:"install_first",children:(0,i.jsx)(n.code,{children:"install_first"})}),"\n",(0,i.jsx)(n.p,{children:"Boolean value that forces the Veracode SCA agent to perform a compilation and installation prior to scanning. Only applicable for Maven."}),"\n",(0,i.jsxs)(n.p,{children:["Default value: ",(0,i.jsx)(n.code,{children:"true"})]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"install_first: false\n"})}),"\n",(0,i.jsx)(n.h2,{id:"custom_maven_command",children:(0,i.jsx)(n.code,{children:"custom_maven_command"})}),"\n",(0,i.jsxs)(n.p,{children:["String attribute with which the Veracode SCA agent utilizes the supplied Maven options instead of ",(0,i.jsx)(n.code,{children:"compile"})," and ",(0,i.jsx)(n.code,{children:"install"}),", which are the defaults. This command must take the form of a single string object."]}),"\n",(0,i.jsxs)(n.p,{children:["Default value: ",(0,i.jsx)(n.code,{children:"compile install"})]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"custom_maven_command: clean compile\n"})}),"\n",(0,i.jsx)(n.h2,{id:"custom_maven_exec",children:(0,i.jsx)(n.code,{children:"custom_maven_exec"})}),"\n",(0,i.jsxs)(n.p,{children:["String attribute that specifies the full path to a custom Maven executable. Defaults to using the Maven executable on the ",(0,i.jsx)(n.code,{children:"PATH"})," of the environment in which the agent performs the scan."]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"custom_maven_exec: /usr/local/bin/mvn\n"})}),"\n",(0,i.jsx)(n.h2,{id:"custom_gradle_exec",children:(0,i.jsx)(n.code,{children:"custom_gradle_exec"})}),"\n",(0,i.jsxs)(n.p,{children:["String attribute that specifies the full path to a custom Gradle executable. Defaults to using the Gradle executable on the ",(0,i.jsx)(n.code,{children:"PATH"})," of the environment in which the agent performs the scan or a ",(0,i.jsx)(n.code,{children:"gradlew"})," file in the directory being scanned, if it exists."]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"custom_gradle_exec: /usr/local/bin/gradle\n"})}),"\n",(0,i.jsx)(n.h2,{id:"custom_ant_exec",children:(0,i.jsx)(n.code,{children:"custom_ant_exec"})}),"\n",(0,i.jsxs)(n.p,{children:["String attribute that specifies the full path to a custom Ant executable. Defaults to using the Ant executable on the ",(0,i.jsx)(n.code,{children:"PATH"})," of the environment in which the agent performs the scan."]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"custom_ant_exec: /usr/local/bin/ant\n"})}),"\n",(0,i.jsx)(n.h2,{id:"ant_build_steps",children:(0,i.jsx)(n.code,{children:"ant_build_steps"})}),"\n",(0,i.jsx)(n.p,{children:"String attribute with custom Ant build steps to run before scanning."}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"ant_build_steps: clean compile\n"})}),"\n",(0,i.jsx)(n.h2,{id:"ivy_settings_filename",children:(0,i.jsx)(n.code,{children:"ivy_settings_filename"})}),"\n",(0,i.jsxs)(n.p,{children:["By default, Veracode SCA uses the ",(0,i.jsx)(n.code,{children:"ivysettings.xml"})," file found in the root folder. You can use this directive to specify another Ivy settings file. Specify the file using its absolute path or its path relative to the root folder."]}),"\n",(0,i.jsx)(n.p,{children:"Absolute path example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"ivy_settings_filename: /path/to/ivysettings.xml\n"})}),"\n",(0,i.jsx)(n.p,{children:"Relative path example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"ivy_settings_filename: ivysettings-release.xml\n"})}),"\n",(0,i.jsx)(n.h2,{id:"ant_lib_dir",children:(0,i.jsx)(n.code,{children:"ant_lib_dir"})}),"\n",(0,i.jsxs)(n.p,{children:["This directive defines where your Ant third-party dependencies are located if you do not provide Ant build steps in the ",(0,i.jsx)(n.code,{children:"ant_build_steps"})," directive. The directive value defaults to the directory in which you perform scans. Specify the location as comma-separated directory paths that are either absolute or relative to the scan project root."]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"ant_lib_dir: lib/, main/jarfiles/\n"})}),"\n",(0,i.jsx)(n.h2,{id:"gradle_location",children:(0,i.jsx)(n.code,{children:"gradle_location"})}),"\n",(0,i.jsxs)(n.p,{children:["This directive supports configurations in which the ",(0,i.jsx)(n.code,{children:"gradlew"})," file does not exist at the root of a Gradle project. This value must be a relative path and include the ",(0,i.jsx)(n.code,{children:"gradlew"})," filename at the end."]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"gradle_location: api/gradlew\n"})}),"\n",(0,i.jsx)(n.h2,{id:"gradle_tasks",children:(0,i.jsx)(n.code,{children:"gradle_tasks"})}),"\n",(0,i.jsxs)(n.p,{children:["By default, the agent uses the ",(0,i.jsx)(n.code,{children:"classes"})," task when performing Gradle scans. This task allows for complete dependency resolution and generation of class files, while not going far enough in the build to execute unit and integrations tests. To run custom tasks during Gradle scans instead of the ",(0,i.jsx)(n.code,{children:"classes"})," task, use this directive with a space-separated list of tasks to execute."]}),"\n",(0,i.jsxs)(n.p,{children:["Default value: ",(0,i.jsx)(n.code,{children:"classes"})]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"gradle_tasks: clean compile\n"})}),"\n",(0,i.jsx)(n.h2,{id:"gradle_filter_task",children:(0,i.jsx)(n.code,{children:"gradle_filter_task"})}),"\n",(0,i.jsxs)(n.p,{children:["This directive allows you to dynamically pin scans to only specific submodules, based on whether that submodule contains the specified task. In the example below, the scan is limited to submodules containing the ",(0,i.jsx)(n.code,{children:"classes"})," task."]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"gradle_filter_task: classes\n"})}),"\n",(0,i.jsx)(n.h2,{id:"dependency_tree_file",children:(0,i.jsx)(n.code,{children:"dependency_tree_file"})}),"\n",(0,i.jsxs)(n.p,{children:["This directive allows you to specify the path to a file containing the output of the Maven ",(0,i.jsx)(n.code,{children:"dependency:tree"})," command or the Gradle ",(0,i.jsx)(n.code,{children:"dependencies"})," task in dependency tree scanning mode. The path is relative to the root folder."]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"dependency_tree_file: tree.txt\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>a,a:()=>l});var i=t(67294);const s={},c=i.createContext(s);function l(e){const n=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);