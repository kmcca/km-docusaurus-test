"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[40716],{14419:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var s=i(85893),t=i(11151);const r={title:"Set Dynamic Analysis URL scan settings for an organization with the REST API",slug:"/r/Set_Dynamic_Analysis_URL_Scan_Settings_for_an_Organization_with_the_REST_API"},a=void 0,o={id:"guides/apis/rest_apis/dynamic_rest_api/dynamic_api_set_scan_settings_org_level",title:"Set Dynamic Analysis URL scan settings for an organization with the REST API",description:"You can use the Dynamic Analysis API to configure the following URL scan settings for an organization. These settings apply to all analyses and scans in an organization.",source:"@site/docs/guides/14_apis/04_rest_apis/05_dynamic_rest_api/10_dynamic_api_set_scan_settings_org_level.md",sourceDirName:"guides/14_apis/04_rest_apis/05_dynamic_rest_api",slug:"/r/Set_Dynamic_Analysis_URL_Scan_Settings_for_an_Organization_with_the_REST_API",permalink:"/km-docusaurus-test/r/Set_Dynamic_Analysis_URL_Scan_Settings_for_an_Organization_with_the_REST_API",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:10,frontMatter:{title:"Set Dynamic Analysis URL scan settings for an organization with the REST API",slug:"/r/Set_Dynamic_Analysis_URL_Scan_Settings_for_an_Organization_with_the_REST_API"},sidebar:"tutorialSidebar",previous:{title:"Create a Dynamic Analysis with a user agent and blocklisted URLs using the REST API",permalink:"/km-docusaurus-test/r/t_dynamic_useragent"},next:{title:"Configure a Dynamic Analysis for internal scanning with the REST API",permalink:"/km-docusaurus-test/r/t_dynamic_ISM"}},c={},l=[{value:"<code>directory_restriction_type</code> values",id:"directory_restriction_type-values",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"You can use the Dynamic Analysis API to configure the following URL scan settings for an organization. These settings apply to all analyses and scans in an organization."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Custom user agents"}),"\n",(0,s.jsx)(n.li,{children:"Custom hosts"}),"\n",(0,s.jsx)(n.li,{children:"Concurrent browsers"}),"\n",(0,s.jsx)(n.li,{children:"Blocklists"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The scan settings you configure at the scan level override the scan settings at both the analysis level and organization level. The scan settings you configure at the analysis level override settings at the organization level. If you do not configure scan settings at the analysis or scan level, all analyses and scans in an organization inherit the settings from that organization."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"To complete this task:"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"In the JSON input file, enter values for the following properties:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"blacklist_configuration"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"org_info"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"visibility"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"user_agent"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["To specify a custom header for a user agent, set ",(0,s.jsx)(n.code,{children:'"type: "CUSTOM"'}),". If you use a predefined user agent, such as Internet Explorer 11, you cannot include a ",(0,s.jsx)(n.code,{children:"custom_header"})," field."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Send the following request to apply the settings to the organization you specify for ",(0,s.jsx)(n.code,{children:"{your_organization_ID}"}),":"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'http --auth-type=veracode_hmac POST "https://api.veracode.com/was/configservice/v1/orgs/scan_setting?org_id={your_organization_ID} < input.json\n'})}),"\n",(0,s.jsx)(n.p,{children:"For the URL scan settings at the organization level, the following example JSON payload specifies to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Exclude (blacklist) a specific file for one URL and all directories/subdirectories for a second URL. See ",(0,s.jsxs)(n.a,{href:"#directoryrestrictiontype-values",children:[(0,s.jsx)(n.code,{children:"directory_restriction_type"})," Values"]}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Prevent a DNS lookup for a custom host."}),"\n",(0,s.jsx)(n.li,{children:"Limit the number of concurrent browsers to five."}),"\n",(0,s.jsx)(n.li,{children:"Set a custom header for a custom user agent."}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "blacklist_configuration": {\n    "blackList": [\n      {\n        "url": "http://www.example.com/block1/my_file.txt",\n        "http_and_https": true,\n        "directory_restriction_type": "FILE"\n      },\n      {\n        "url": "http://www.example.com/block2/",\n        "http_and_https": true,\n        "directory_restriction_type": "DIRECTORY_AND_SUBDIRECTORY"\n      }\n    ]\n  },\n  "custom_hosts": [\n    {\n      "host_name": "my.custom.host",\n      "ip_address": "127.0.0.1"\n    }\n  ],\n  "max_browsers": 5,\n  "user_agent": {\n    "type": "DEFAULT",\n    "custom_header": "string",\n    "customerHeader": "string"\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.h2,{id:"directory_restriction_type-values",children:[(0,s.jsx)(n.code,{children:"directory_restriction_type"})," values"]}),"\n",(0,s.jsx)(n.p,{children:"The following values are case-sensitive:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"DIRECTORY_AND_SUBDIRECTORY"}),": applies to the directory and all of its subdirectories in the specified URL. The default."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"FOLDER_ONLY"}),": applies only to the directory in the specified URL."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"FILE"}),": applies only to the file in the specified URL."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"API_ENDPOINT"}),": applies only to the API endpoint in the specified URL."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"NONE"}),": no restrictions. Applies to all directories, subdirectories, and files in the specified URL."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},11151:(e,n,i)=>{i.d(n,{Z:()=>o,a:()=>a});var s=i(67294);const t={},r=s.createContext(t);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);