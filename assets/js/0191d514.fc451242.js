"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[86142],{54569:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var i=s(85893),t=s(11151);const o={title:"Maven plugin for agent-based scanning",id:"Maven Plugin for Agent-Based Scanning",slug:"/r/t_sc_maven"},r="Set up the agent-based scanning Maven plugin",a={id:"guides/SCA/setting_up_agent_based_scans/continuous_integration/maven/Maven Plugin for Agent-Based Scanning",title:"Maven plugin for agent-based scanning",description:"The Veracode Software Composition Analysis (SCA) agent-based scanning Maven plugin allows you to automate the scanning of your Maven repositories. You can upload the results of plugin scans to Veracode for a specific organization or to your personal environment.",source:"@site/docs/guides/07_SCA/03_setting_up_agent_based_scans/01_continuous_integration/10_maven/README.md",sourceDirName:"guides/07_SCA/03_setting_up_agent_based_scans/01_continuous_integration/10_maven",slug:"/r/t_sc_maven",permalink:"/km-docusaurus-test/r/t_sc_maven",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Maven plugin for agent-based scanning",id:"Maven Plugin for Agent-Based Scanning",slug:"/r/t_sc_maven"},sidebar:"tutorialSidebar",previous:{title:"Configuring the Gradle plugin",permalink:"/km-docusaurus-test/r/Gradle_Plugin_Configurations"},next:{title:"Configuring the Maven plugin",permalink:"/km-docusaurus-test/r/Maven_Plugin_Configurations"}},c={},l=[];function d(n){const e={code:"code",h1:"h1",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{id:"set-up-the-agent-based-scanning-maven-plugin",children:"Set up the agent-based scanning Maven plugin"}),"\n",(0,i.jsx)(e.p,{children:"The Veracode Software Composition Analysis (SCA) agent-based scanning Maven plugin allows you to automate the scanning of your Maven repositories. You can upload the results of plugin scans to Veracode for a specific organization or to your personal environment."}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"To complete this task:"})}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["In the Veracode Platform, select ",(0,i.jsx)(e.strong,{children:"Scans & Analysis"})," > ",(0,i.jsx)(e.strong,{children:"Software Composition Analysis"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Click the ",(0,i.jsx)(e.strong,{children:"Agent-Based Scan"})," tab."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Select a workspace."}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Click ",(0,i.jsx)(e.strong,{children:"Agents"})," > ",(0,i.jsx)(e.strong,{children:"Actions"})," > ",(0,i.jsx)(e.strong,{children:"Create"})," > ",(0,i.jsx)(e.strong,{children:"Maven"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Click ",(0,i.jsx)(e.strong,{children:"Create Agent & Generate Token"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Choose to set your API token as an environment variable in the environment where you build your Maven repository, or add the token directly to the configuration within your ",(0,i.jsx)(e.code,{children:"pom.xml"})," file:"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Environment Configuration:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:["Run this command to set your API token to the ",(0,i.jsx)(e.code,{children:"SRCCLR_API_TOKEN"})," environment variable:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"export SRCCLR_API_TOKEN={apiToken}\n"})}),"\n",(0,i.jsx)(e.p,{children:"If your shell supports it, you may want to prefix the command with a space to avoid leaving the token in your shell history."}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsx)(e.p,{children:"Run this command in the root of your Maven project to start a scan:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"mvn clean compile com.srcclr:srcclr-maven-plugin:scan\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"pom.xml"})," Configuration:"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Add this code to your ",(0,i.jsx)(e.code,{children:"pom.xml"})," file in the root directory:"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"            <build>\n    <plugins>\n        <plugin>\n            <groupId>com.srcclr</groupId>\n            <artifactId>srcclr-maven-plugin</artifactId>\n            <version>\x3c!-- Insert latest version --\x3e</version>\n            <configuration>\n                \x3c!--- Add configuration details here--\x3e\n                <apiToken>OptionallyEnterUserTokenHere</apiToken>\n           </configuration>\n           <executions>\n               <execution>\n                   <id>srcclr-scan</id>\n                   <phase>verify</phase>\n                   <goals>\n                       <goal>scan</goal>\n                   </goals>\n               </execution>\n          </executions>\n        </plugin>\n    </plugins>\n</build>        \n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Save the ",(0,i.jsx)(e.code,{children:"pom.xml"})," file. The agent-based scanning plugin automatically runs when you run any Maven lifecycle phase that executes after ",(0,i.jsx)(e.code,{children:"verify"}),", such as ",(0,i.jsx)(e.code,{children:"install"})," or ",(0,i.jsx)(e.code,{children:"deploy"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function u(n={}){const{wrapper:e}={...(0,t.a)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},11151:(n,e,s)=>{s.d(e,{Z:()=>a,a:()=>r});var i=s(67294);const t={},o=i.createContext(t);function r(n){const e=i.useContext(o);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:r(n.components),i.createElement(o.Provider,{value:e},n.children)}}}]);