"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[30357],{81193:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>n,metadata:()=>r,toc:()=>o});var l=t(85893),i=t(11151);const n={title:"uploadlargefile.do",slug:"/r/r_uploadlargefile"},a=void 0,r={id:"guides/apis/xml_apis/upload_xml_apis/uploadlargefile_do",title:"uploadlargefile.do",description:"The uploadlargefile.do call uploads a single file as a set of parts to an existing build or creates a build. Uploading the file in parts avoids timeout errors, which can occur when uploading a large file using the uploadfile.do call.",source:"@site/docs/guides/14_apis/05_xml_apis/02_upload_xml_apis/21_uploadlargefile_do.md",sourceDirName:"guides/14_apis/05_xml_apis/02_upload_xml_apis",slug:"/r/r_uploadlargefile",permalink:"/km-docusaurus-test/r/r_uploadlargefile",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:21,frontMatter:{title:"uploadlargefile.do",slug:"/r/r_uploadlargefile"},sidebar:"tutorialSidebar",previous:{title:"uploadfile.do",permalink:"/km-docusaurus-test/r/r_uploadfile"},next:{title:"XML API prescan status",permalink:"/km-docusaurus-test/r/c_prescan_table"}},d={},o=[{value:"Resource URL",id:"resource-url",level:2},{value:"Header requirements",id:"header-requirements",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Java example",id:"java-example",level:2},{value:"Java results",id:"java-results",level:2},{value:"Python example",id:"python-example",level:2}];function c(e){const s={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"uploadlargefile.do"})," call uploads a single file as a set of parts to an existing build or creates a build. Uploading the file in parts avoids timeout errors, which can occur when uploading a large file using the ",(0,l.jsx)(s.a,{href:"/km-docusaurus-test/r/r_uploadfile",children:(0,l.jsx)(s.code,{children:"uploadfile.do"})})," call."]}),"\n",(0,l.jsxs)(s.p,{children:["Veracode recommends using this call as an alternative to the ",(0,l.jsx)(s.code,{children:"uploadfile.do"})," call. Before using this API, Veracode strongly recommends that you read ",(0,l.jsx)(s.a,{href:"/km-docusaurus-test/r/c_API_usage_guidelines",children:"API usage and access guidelines"}),". Ensure you access the APIs with the ",(0,l.jsx)(s.a,{href:"/km-docusaurus-test/r/Region_Domains_for_Veracode_APIs",children:"domain for your region"}),"."]}),"\n",(0,l.jsx)(s.p,{children:"Before uploading additional files, ensure that:"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"An upload or prescan is not in progress."}),"\n",(0,l.jsxs)(s.li,{children:["The ",(0,l.jsx)(s.a,{href:"/km-docusaurus-test/r/r_beginscan",children:(0,l.jsx)(s.code,{children:"beginscan.do"})})," call is not in progress."]}),"\n",(0,l.jsxs)(s.li,{children:["If you recently ran the ",(0,l.jsx)(s.code,{children:"beginscan.do"})," call, you did not set ",(0,l.jsx)(s.code,{children:"auto_scan"})," to ",(0,l.jsx)(s.code,{children:"true"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(s.p,{children:["Because the ",(0,l.jsx)(s.code,{children:"uploadlargefile.do"})," call creates a build, if one does not already exist or if the most recent build has a published static scan, you do not need to call ",(0,l.jsx)(s.a,{href:"/km-docusaurus-test/r/r_createbuild",children:(0,l.jsx)(s.code,{children:"createbuild.do"})}),". If the call creates a build, the build name is the date of the build with the scan type. For example, ",(0,l.jsx)(s.code,{children:"03 Mar 2019 Static"}),"."]}),"\n",(0,l.jsx)(s.p,{children:"If you want to upload a file that does not have the same name as a previous file, you can use the filename parameter to change the name, enabling flaw-matching with previously scanned files."}),"\n",(0,l.jsx)(s.h2,{id:"resource-url",children:"Resource URL"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{children:"https://analysiscenter.veracode.com/api/5.0/uploadlargefile.do\n"})}),"\n",(0,l.jsx)(s.h2,{id:"header-requirements",children:"Header requirements"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["Set ",(0,l.jsx)(s.code,{children:"Content-Length: <number of bytes in the file>"})]}),"\n",(0,l.jsxs)(s.li,{children:["Set ",(0,l.jsx)(s.code,{children:"Content-Type: binary/octet-stream"})]}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{style:{textAlign:"left"},children:"Name"}),(0,l.jsx)(s.th,{style:{textAlign:"left"},children:"Type"}),(0,l.jsx)(s.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsxs)(s.td,{style:{textAlign:"left"},children:[(0,l.jsx)(s.code,{children:"app_id"}),(0,l.jsx)("br",{}),(0,l.jsx)(s.strong,{children:"Required"})]}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:"Integer"}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:"Application ID."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsxs)(s.td,{style:{textAlign:"left"},children:[(0,l.jsx)(s.code,{children:"file"}),(0,l.jsx)("br",{}),(0,l.jsx)(s.strong,{children:"Required"})]}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:"String"}),(0,l.jsxs)(s.td,{style:{textAlign:"left"},children:["File to upload. The maximum file size is 2GB.",(0,l.jsx)("br",{}),(0,l.jsx)(s.strong,{children:"NOTE:"})," ",(0,l.jsx)("br",{}),"You must enter the ",(0,l.jsx)("code",{children:"@"})," symbol before the entire pathname, including the specific filename."]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"filename"})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:"String"}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:"Enter a new, unique filename for the uploaded file. The filename cannot begin or end with slashes or periods."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"sandbox_id"})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:"Integer"}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:"Enter the ID of the target sandbox for the upload file."})]})]})]}),"\n",(0,l.jsx)(s.h2,{id:"java-example",children:"Java example"}),"\n",(0,l.jsx)(s.p,{children:"This call supports the HTTP POST method. Because HTTPie does not support streaming uploads, you can use this Java example as an alternative to HTTPie."}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-shell",children:"java -jar vosp-api-wrappers-java-<version>.jar -vid <Veracode API ID> -vkey <Veracode API key> -action uploadfile -app_id <Veracode application ID> -filepath c:\\Users\\<username>\\<filename>\n"})}),"\n",(0,l.jsx)(s.h2,{id:"java-results",children:"Java results"}),"\n",(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"uploadlargefile.do"})," call returns the ",(0,l.jsx)(s.code,{children:"filelist"})," XML document, which references the ",(0,l.jsx)(s.a,{href:"https://analysiscenter.veracode.com/resource/2.0/filelist.xsd",children:(0,l.jsx)(s.code,{children:"filelist.xsd"})})," schema file. You can use the XSD schema file to validate the XML data."]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n\n<filelist xmlns="https://analysiscenter.veracode.com/schema/2.0/filelist" \n      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" \n      account_id=<account ID> app_id=<application ID> build_id=<build ID> filelist_version="1.1" \n      xsi:schemaLocation="https://analysiscenter.veracode.com/schema/2.0/filelist \n      https://analysiscenter.veracode.com/resource/2.0/filelist.xsd">\n   <file file_id=<file ID> file_name="<filename>" file_status="Uploaded"/>\n</filelist>\n'})}),"\n",(0,l.jsx)(s.h2,{id:"python-example",children:"Python example"}),"\n",(0,l.jsx)(s.p,{children:"This call supports the HTTP POST method. Because HTTPie does not support streaming uploads, you can use this Python script example as an alternative to HTTPie."}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-shell",children:"import requests\nimport sys\nfrom veracode_api_signing.plugin_requests import RequestsAuthPluginVeracodeHMAC\n\napp_id = 123456 #insert <Veracode application id> here\nfilename = 'verademo.war' #insert <filename> here\nvid = 123456 #insert veracode api key id here\nvkey = 1234567890 #insert veracode api key secret here\n\ntry:\n    with open(filename, 'rb') as file:\n        resp = requests.post('https://analysiscenter.veracode.com/api/5.0/uploadlargefile.do',\n                headers={'Content-Type': 'binary/octet-stream'},params={'app_id': app_id, 'filename': filename},\n                data=file,auth=RequestsAuthPluginVeracodeHMAC(vid,vkey))\nexcept Exception as err:\n    print(f'Error occurred: {err}')\n    sys.exit(1)\nelse:\n    print(f'Req Headers: {resp.request.headers}')\n    print(f'Resp Code: {resp.status_code}\\nResp Text: {resp.text}')\n"})})]})}function h(e={}){const{wrapper:s}={...(0,i.a)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},11151:(e,s,t)=>{t.d(s,{Z:()=>r,a:()=>a});var l=t(67294);const i={},n=l.createContext(i);function a(e){const s=l.useContext(n);return l.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),l.createElement(n.Provider,{value:s},e.children)}}}]);