"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[90866],{83914:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>l});var t=i(85893),s=i(11151);const a={title:"Add Static Analysis to Azure DevOps pipelines",slug:"/r/t_TFS_config_build_pipe"},r=void 0,o={id:"guides/integrations/cicd/azure_devops_integration/azure_add_static_build_pipeline",title:"Add Static Analysis to Azure DevOps pipelines",description:"You can use the Veracode Azure DevOps Extension to integrate Veracode Static Analysis into your Azure DevOps build pipelines.",source:"@site/docs/guides/04_integrations/03_cicd/05_azure_devops_integration/03_azure_add_static_build_pipeline.md",sourceDirName:"guides/04_integrations/03_cicd/05_azure_devops_integration",slug:"/r/t_TFS_config_build_pipe",permalink:"/km-docusaurus-test/r/t_TFS_config_build_pipe",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Add Static Analysis to Azure DevOps pipelines",slug:"/r/t_TFS_config_build_pipe"},sidebar:"tutorialSidebar",previous:{title:"Check the Veracode Azure DevOps Extension version",permalink:"/km-docusaurus-test/r/t_azure_devops_check_version"},next:{title:"Use YAML to add Static Analysis to Azure DevOps pipelines",permalink:"/km-docusaurus-test/r/Use_YAML_to_Add_Veracode_Analysis_to_Azure_DevOps_Pipelines"}},c={},l=[];function d(e){const n={a:"a",admonition:"admonition",code:"code",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"You can use the Veracode Azure DevOps Extension to integrate Veracode Static Analysis into your Azure DevOps build pipelines."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Before you begin:"})}),"\n",(0,t.jsx)(n.p,{children:"Before adding Veracode analysis to a build pipeline, you must meet these prerequisites:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Generated ",(0,t.jsx)(n.a,{href:"/km-docusaurus-test/r/c_api_credentials3",children:"Veracode API credentials"}),". If your credentials contain variables, you must start each variable with a ",(0,t.jsx)(n.code,{children:"$"})," and wrap the variable value in parentheses. For example, you enter the ",(0,t.jsx)(n.code,{children:"id"})," variable as ",(0,t.jsx)(n.code,{children:"$(Id)"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["The extension uses the variable names ",(0,t.jsx)(n.code,{children:"VERACODE_API_KEY_ID"})," and ",(0,t.jsx)(n.code,{children:"VERACODE_API_KEY_SECRET"})," for the API credentials. If you use custom variables in your pipelines, ensure that none of your variable names conflict with these variable names for the API credentials."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Before uploading an application, you must package it to include the required debug symbols, as described in the ",(0,t.jsx)(n.a,{href:"/km-docusaurus-test/r/compilation_packaging",children:"packaging requirements"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"If you want to upload multiple artifacts for scanning, you have prepared one or more ZIP archives:"}),"\n",(0,t.jsx)(n.p,{children:"a. Add the artifacts to one or more ZIP archives."}),"\n",(0,t.jsx)(n.p,{children:"b. Ensure the ZIP archives are in the same upload file path location."}),"\n",(0,t.jsx)(n.p,{children:"c. Prepare the ZIP archives for uploading to Veracode using a separate build step or build steps in your pipeline."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["If you have an ASP.NET application, see the ",(0,t.jsx)(n.a,{href:"/km-docusaurus-test/r/t_vsts_precompilation",children:"configuration instructions"}),". The following .NET project includes an example precompilation step: ",(0,t.jsx)(n.a,{href:"https://github.com/veracode/verademo-dotnet/blob/main/azure-pipelines.yml",children:"https://github.com/veracode/verademo-dotnet/blob/main/azure-pipelines.yml"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"To complete this task:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In your Azure DevOps project, select the ",(0,t.jsx)(n.strong,{children:"Tasks"})," tab and navigate to your build definition."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Select ",(0,t.jsx)(n.strong,{children:"Add a task..."}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Search the list for the ",(0,t.jsx)(n.code,{children:"Veracode Upload and Scan"})," task. Then, select ",(0,t.jsx)(n.strong,{children:"Add"})," to add it to the build definition."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Select the ",(0,t.jsx)(n.strong,{children:"Veracode Upload and scan"})," task. The Veracode Upload and Scan window opens."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"For Connection Details, select a connection source for connecting to Veracode:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Service Connection"}),": select an existing service connection that uses your Veracode API credentials or select ",(0,t.jsx)(n.strong,{children:"New"})," to create a new service connection. For a new connection, in the New service connection window, by default, the Server URL field is populated with the URL for accessing Veracode. Enter your Veracode API credentials, a name for the service connection and, then, click ",(0,t.jsx)(n.strong,{children:"Save"}),". The new connection is selected in the Select Service Connection dropdown menu."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Credentials"}),": enter your Veracode API credentials."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"For Veracode Scan Settings, enter the name of the associated application profile, a unique scan name, and the filepath to the application artifact or the folder containing the artifacts to upload to Veracode."}),"\n",(0,t.jsxs)(n.p,{children:["For a .NET application, if you have additional published projects from a solution, include them in the archive to upload and analyze. Add any JavaScript files to a separate ZIP archive according to the packaging instructions in the ",(0,t.jsx)(n.a,{href:"/km-docusaurus-test/r/compilation_packaging",children:"packaging requirements"}),". Include only the file types for languages and platforms that Veracode can scan in a ZIP archive to improve uploading and scan speed. See the ",(0,t.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/azure/devops/pipelines/tasks/utility/archive-files?view=azure-devops",children:"Microsoft Archive Files task"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["If this is not an existing Veracode application, select the ",(0,t.jsx)(n.strong,{children:"Create Application Profile"})," checkbox in the Advanced Scan Settings section to have Veracode create an ",(0,t.jsx)(n.a,{href:"/km-docusaurus-test/r/request_profile",children:"application profile"}),"."]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"Application names in Azure DevOps are case-sensitive."})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"For Advanced Scan Settings:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["If you are using a development sandbox, enter a sandbox name or select ",(0,t.jsx)(n.strong,{children:"Create Sandbox"})," to create one."]}),"\n",(0,t.jsxs)(n.li,{children:["In the Optional Arguments field, enter any ",(0,t.jsx)(n.a,{href:"/km-docusaurus-test/r/r_uploadandscan",children:"optional parameters"})," to apply to the Upload and Scan action. For example, you can use the optional parameters to include and exclude files during the scan."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["The following example specifies that the scan is of high importance, to include all DLL files, exclude all EXE files, scan in a sandbox named ",(0,t.jsx)(n.code,{children:"mysandbox"}),", which Veracode creates if the sandbox does not already exist, and to delete a scan with a status of incomplete, no modules defined, failed, or cancelled:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"-criticality high -include *.dll -exclude *.exe -createsandbox true -sandboxname mysandbox -deleteIncompleteScan 1\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"Do not enclose any of the values in single or double quotations."})}),"\n",(0,t.jsxs)(n.p,{children:["You can ",(0,t.jsx)(n.a,{href:"/km-docusaurus-test/r/t_hide_password",children:"hide a proxy password"})," during the Upload and Scan action."]}),"\n",(0,t.jsxs)(n.p,{children:["If the application profile does not exist, select the ",(0,t.jsx)(n.strong,{children:"Create Application Profile"})," checkbox to create it. You can select the ",(0,t.jsx)(n.strong,{children:"Fail build if Upload and Scan build step fails"})," checkbox to prevent the build from continuing if the Upload and Scan build step fails."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["For Veracode Scan Results: select the ",(0,t.jsx)(n.strong,{children:"Import Results upon Scan Completion"})," checkbox to import the scan results. You can select the option under it to stop the build if the scan results indicate that the application has failed your security policy."]}),"\n",(0,t.jsxs)(n.p,{children:["Selecting either checkbox reserves an assigned build agent to wait until the scan has completed successfully and the scan results are available. With one or both checkboxes selected, you can enter the build agent wait time, in minutes, for failing the build if no scan results are available. The value range is ",(0,t.jsx)(n.code,{children:"30"})," to ",(0,t.jsx)(n.code,{children:"1440"})," (24 hours) and the default is ",(0,t.jsx)(n.code,{children:"360"})," (6 hours). If you enter a value outside this range, the build fails."]}),"\n",(0,t.jsx)(n.p,{children:"If neither checkbox is selected, the build agent uploads the binaries to Veracode and continues to the next build task in the task list."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Optionally, to add debugging to your pipeline, add a new variable and enter these values in the New variable window:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Name: ",(0,t.jsx)(n.code,{children:"system.debug"})]}),"\n",(0,t.jsxs)(n.li,{children:["Value: ",(0,t.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["If you want to use the Veracode Azure DevOps flaw import feature in your build definition, ",(0,t.jsx)(n.a,{href:"/km-docusaurus-test/r/t_importflaws",children:"configure the additional related build variables"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Results:"})}),"\n",(0,t.jsxs)(n.p,{children:["After the scan is complete, in your build definition, you can select the ",(0,t.jsx)(n.strong,{children:"Veracode Scan Summary"})," tab to view the scan results."]})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},11151:(e,n,i)=>{i.d(n,{Z:()=>o,a:()=>r});var t=i(67294);const s={},a=t.createContext(s);function r(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);