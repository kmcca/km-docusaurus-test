"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[56037],{83007:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>d});var a=t(85893),o=t(11151);const r={title:"Annotate Java code",slug:"/r/t_annotate_java"},s=void 0,i={id:"guides/packaging/supported_framworks_cleansers/customcleansers/annotate_java_code",title:"Annotate Java code",description:"You can add Veracode custom cleanser annotations to your Java code.",source:"@site/docs/guides/03_packaging/34_supported_framworks_cleansers/03_customcleansers/01_annotate_java_code.md",sourceDirName:"guides/03_packaging/34_supported_framworks_cleansers/03_customcleansers",slug:"/r/t_annotate_java",permalink:"/km-docusaurus-test/r/t_annotate_java",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Annotate Java code",slug:"/r/t_annotate_java"},sidebar:"tutorialSidebar",previous:{title:"About custom cleansers",permalink:"/km-docusaurus-test/r/customcleansers"},next:{title:"Annotate .NET code",permalink:"/km-docusaurus-test/r/t_annotate_net"}},c={},d=[];function l(e){const n={a:"a",admonition:"admonition",code:"code",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"You can add Veracode custom cleanser annotations to your Java code."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"To complete this task:"})}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Download the Veracode annotations JAR file from this URL: ",(0,a.jsx)(n.a,{href:"https://tools.veracode.com/customcleanser/VeracodeAnnotations.jar",children:"https://tools.veracode.com/customcleanser/VeracodeAnnotations.jar"})]}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["Custom cleanser annotations for Java are also available from Maven Central: ",(0,a.jsx)("a",{href:"https://repo1.maven.org/maven2/com/veracode/annotation/VeracodeAnnotations",children:(0,a.jsx)(n.a,{href:"https://repo1.maven.org/maven2/com/veracode/annotation/VeracodeAnnotations",children:"https://repo1.maven.org/maven2/com/veracode/annotation/VeracodeAnnotations"})})]})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["Reference the custom cleanser annotations package in the project ",(0,a.jsx)(n.code,{children:"pom.xml"})," file. For example:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">\n\t...\n\t<dependencies>\n\t\t<dependency>\t\t\n\t\t\t<groupId>com.veracode.annotation</groupId>\n\t\t\t<artifactId>VeracodeAnnotations</artifactId>\n\t\t\t<version>[1.0.4,)</version>\n\t\t</dependency>\n\t</dependencies>\n\t...\n</project>\n'})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Build the code using Maven. For example:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"mvn package\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["When compiling, ensure ",(0,a.jsx)(n.code,{children:"VeracodeAnnotations.jar"})," is in your classpath."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Import one or more of these cleansers into your Java source file:"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Cleanser"}),(0,a.jsx)(n.th,{children:"Description"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"com.veracode.annotation.CRLFCleanser"})}),(0,a.jsx)(n.td,{children:"Annotates a method that mitigates CWE-93, 113, or 117."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"com.veracode.annotation.FilePathCleanser"})}),(0,a.jsx)(n.td,{children:"Annotates a method that mitigates CWE-73."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"com.veracode.annotation.RedirectURLCleanser"})}),(0,a.jsx)(n.td,{children:"Annotates a method that mitigates CWE-601."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"com.veracode.annotation.SQLQueryCleanser"})}),(0,a.jsx)(n.td,{children:"Annotates a method that mitigates CWE-89."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"com.veracode.annotation.XSSCleanser"})}),(0,a.jsx)(n.td,{children:"Annotates a method that mitigates CWE-80."})]})]})]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"If you want to add custom mitigation text to provide additional information, enter a user comment with this syntax:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'@FilePathCleanser(userComment = "{your custom text}")\n'})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Annotate your method with one or more custom cleanser annotations, depending on how the method validates or sanitizes the user-controlled data provided to it, and apply the cleanser method to user-controlled data to ensure it is validated or sanitized before use. For example:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"import com.veracode.annotation.FilePathCleanser\n\npublic class SecurityUtil\n{\n   @FilePathCleanser\n   public static String myProprietaryFilePathCleanser(String path) {\n\n     // Example file path validatation/sanitization implementation\n\n     return myCleansedFilePath;\n  }\n}\n\n// ...\n\nString validatedPath = SecurityUtil.myProprietaryFilePathCleanser(userProvidedFilename);\nFile myFile = new File(validatedPath);\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Mitigations from Veracode custom cleanser mitigations, including custom mitigation text when provided, appear in the Triage Flaws page, the Application page, and the PDF reports."})]})}function h(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>i,a:()=>s});var a=t(67294);const o={},r=a.createContext(o);function s(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);