"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[16398],{18102:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>p,frontMatter:()=>t,metadata:()=>s,toc:()=>a});var i=o(85893),c=o(11151);const t={title:"Use xcodebuild to package iOS apps",slug:"/r/Use_xcodebuild_to_Package_iOS_and_tvOS_Apps"},r=void 0,s={id:"guides/packaging/ios_tvos/use_xcodebuild",title:"Use xcodebuild to package iOS apps",description:"To package your iOS applications the quickest way, you can use xcodebuild in your terminal.",source:"@site/docs/guides/03_packaging/14_ios_tvos/01_use_xcodebuild.md",sourceDirName:"guides/03_packaging/14_ios_tvos",slug:"/r/Use_xcodebuild_to_Package_iOS_and_tvOS_Apps",permalink:"/km-docusaurus-test/r/Use_xcodebuild_to_Package_iOS_and_tvOS_Apps",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Use xcodebuild to package iOS apps",slug:"/r/Use_xcodebuild_to_Package_iOS_and_tvOS_Apps"},sidebar:"tutorialSidebar",previous:{title:"iOS packaging",permalink:"/km-docusaurus-test/r/compilation_ios"},next:{title:"Use Xcode to package iOS apps",permalink:"/km-docusaurus-test/r/Use_Xcode_to_Package_iOS_and_tvOS_Apps"}},d={},a=[];function l(e){const n={a:"a",admonition:"admonition",code:"code",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["To package your iOS applications the quickest way, you can use ",(0,i.jsx)(n.code,{children:"xcodebuild"})," in your terminal."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Before you begin:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"You have installed the Command Line Tools for Xcode."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["You have installed or updated ",(0,i.jsx)(n.a,{href:"https://github.com/veracode/gen-ir#readme",children:"gen-ir"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"To complete this task:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Open your terminal, and then change directory to your project."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Run the following command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"xcodebuild clean\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"If you have an Xcode Workspace, run the following command:"}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["You must change the invocation of ",(0,i.jsx)(n.code,{children:"xcodebuild"})," to match your project. You should at least replace ",(0,i.jsx)(n.code,{children:"MyApp"})," and ",(0,i.jsx)(n.code,{children:"MyScheme"}),"."]})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"xcodebuild archive \\\n  -workspace MyApp.xcworkspace \\\n  -scheme MyScheme \\\n  -destination generic/platform=iOS \\\n  -configuration Debug \\\n  -archivePath MyApp.xcarchive \\\n  DEBUG_INFORMATION_FORMAT=dwarf-with-dsym \\\n  ENABLE_BITCODE=NO \\\n  > MyApp.log.txt\n"})}),"\n",(0,i.jsx)(n.p,{children:"Or, if you have an Xcode project, run the following command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"xcodebuild archive \\\n  -project MyApp.xcodeproj \\\n  -scheme MyScheme \\\n  -destination generic/platform=iOS \\\n  -configuration Debug \\\n  -archivePath MyApp.xcarchive \\\n  DEBUG_INFORMATION_FORMAT=dwarf-with-dsym \\\n  ENABLE_BITCODE=NO \\\n  > MyApp.log.txt\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Optionally, you can use ",(0,i.jsx)(n.code,{children:"-archivePath"})," to set a different output location for the archive, and you can use ",(0,i.jsx)(n.code,{children:"> MyApp.log.txt"})," to set a different output location for the build log of the archive."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Run ",(0,i.jsx)(n.code,{children:"gen-ir"})," with your build log and the archive path in the following command. Ensure ",(0,i.jsx)(n.code,{children:"MyApp.log.txt"})," points to the exported build log, and that ",(0,i.jsx)(n.code,{children:"MyApp.xcarchive/"})," is the newly-created ",(0,i.jsx)(n.code,{children:"xcarchive"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Xcode workspace:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"gen-ir MyApp.log.txt MyApp.xcarchive/ --project-path MyApp.xcworkspace\n"})}),"\n",(0,i.jsx)(n.p,{children:"Xcode project:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"gen-ir MyApp.log.txt MyApp.xcarchive/ --project-path MyApp.xcodeproj\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Create a new archive. For example, run the following ",(0,i.jsx)(n.code,{children:"zip"})," command. Ensure you place the ",(0,i.jsx)(n.code,{children:"xcarchive"})," at the root of this ZIP file and do not zip subfolders or add additional paths."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"zip -r MyApp.zip MyApp.xcarchive\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Upload your iOS application to the Veracode Platform for analysis. See how to ",(0,i.jsx)(n.a,{href:"/km-docusaurus-test/r/Requesting_a_Static_Scan",children:"submit an application for analysis"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Optionally, to upload your archives with Veracode Software Composition Analysis, add the ",(0,i.jsx)(n.code,{children:"Podfile.lock"})," file to the root of another zipped archive. Keep this new zipped archive separate from the one that contains the ",(0,i.jsx)(n.code,{children:".xcarchive"})," folder, as shown in the following command:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"zip MyApp-Podfile.zip Podfile.lock\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Upload ",(0,i.jsx)(n.code,{children:"MyApp-Podfile.zip"})," to the same scan as the ",(0,i.jsx)(n.code,{children:"MyApp.zip"})," that you previously uploaded."]}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},11151:(e,n,o)=>{o.d(n,{Z:()=>s,a:()=>r});var i=o(67294);const c={},t=i.createContext(c);function r(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:r(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);