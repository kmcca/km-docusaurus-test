"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[24205],{28242:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>d});var t=r(85893),i=r(11151);const o={title:"Configure an AWS CodeBuild project for Static Analysis",slug:"/r/t_aws_config_codebuild_static"},a=void 0,s={id:"guides/integrations/cicd/aws_codestar_integration/aws_configure_codebuild_project_static",title:"Configure an AWS CodeBuild project for Static Analysis",description:"You configure a new or existing build project in AWS CodeBuild that includes the Veracode Java API wrapper, your Veracode API credentials, and the Veracode API commands to call for performing static analysis. You add the build project to a pipeline stage in CodePipeline for analyzing the build output from your application build stage.",source:"@site/docs/guides/04_integrations/03_cicd/04_aws_codestar_integration/02_aws_configure_codebuild_project_static.md",sourceDirName:"guides/04_integrations/03_cicd/04_aws_codestar_integration",slug:"/r/t_aws_config_codebuild_static",permalink:"/km-docusaurus-test/r/t_aws_config_codebuild_static",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Configure an AWS CodeBuild project for Static Analysis",slug:"/r/t_aws_config_codebuild_static"},sidebar:"tutorialSidebar",previous:{title:"Configure an AWS pipeline for Veracode security scanning",permalink:"/km-docusaurus-test/r/t_aws_config_codepipeline_static"},next:{title:"Configure an AWS CodeBuild project for SCA",permalink:"/km-docusaurus-test/r/t_aws_config_codebuild_sca"}},c={},d=[];function l(e){const n={a:"a",admonition:"admonition",code:"code",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"You configure a new or existing build project in AWS CodeBuild that includes the Veracode Java API wrapper, your Veracode API credentials, and the Veracode API commands to call for performing static analysis. You add the build project to a pipeline stage in CodePipeline for analyzing the build output from your application build stage."}),"\n",(0,t.jsxs)(n.p,{children:["This procedure applies to both new and existing build projects. For a new project, you complete each section on the Create build project page, then select ",(0,t.jsx)(n.strong,{children:"Create build project"})," to save the configuration and build the project. For an existing project, you edit each pre-configured section on a separate page, then click ",(0,t.jsx)(n.strong,{children:"Update"})," after completing your edits."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Before you begin:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["You have generated ",(0,t.jsx)(n.a,{href:"/km-docusaurus-test/r/c_api_credentials3",children:"Veracode API credentials"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Your Veracode API credentials are stored securely using AWS System Manager Parameter Store or the AWS Secrets Manager."}),"\n",(0,t.jsxs)(n.li,{children:["If you are performing static analysis using a ",(0,t.jsx)(n.a,{href:"/km-docusaurus-test/r/c_about_sandbox",children:"development sandbox"}),", you have configured the sandbox you want to use."]}),"\n",(0,t.jsxs)(n.li,{children:["You have compiled and packaged your application source files according to the ",(0,t.jsx)(n.a,{href:"/km-docusaurus-test/r/compilation_packaging",children:"packaging requirements"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["You have access to the ",(0,t.jsx)(n.a,{href:"https://hub.docker.com/r/veracode/api-wrapper-java",children:"Veracode Java API wrapper Docker image"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"To complete this task:"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"In AWS, create or edit a build project to use for static analysis."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"In the build project, configure the Project configuration and Source sections for your development environment."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In the Environment section, under Environment image, reference the ",(0,t.jsx)(n.a,{href:"https://hub.docker.com/r/veracode/api-wrapper-java",children:"Veracode Java API wrapper Docker image"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Expand ",(0,t.jsx)(n.strong,{children:"Additional configuration"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"In the Environment variables section, add environment variables for the API ID and API key for your Veracode API credentials."}),"\n",(0,t.jsxs)(n.p,{children:["For example, you could enter a ",(0,t.jsx)(n.code,{children:"VID"})," variable for the API ID and a ",(0,t.jsx)(n.code,{children:"VKEY"})," variable for the API key. The values specify the location of the actual API ID and API key. If your credentials are stored in the AWS System Manager Parameter Store, select the ",(0,t.jsx)(n.strong,{children:"Parameter"})," type for both variables. If your credentials are stored in AWS Secrets Manager, set the type to ",(0,t.jsx)(n.strong,{children:"Secrets Manager"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["In the Buildspec section, enter the ",(0,t.jsx)(n.a,{href:"/km-docusaurus-test/r/c_wrapper_CL",children:"Java API wrapper commands"}),". For example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"java -jar /opt/veracode/api-wrapper.jar -action uploadandscan -vid $VID -vkey $VKEY -appname verademo-java -createprofile false -version $(date +%Y-%m-%d-%H:%M) -filepath target/verademo.war -sandboxname aws-codebuild -createsandbox true\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This example command references the API wrapper JAR file, which is contained in a ",(0,t.jsx)(n.code,{children:"veracode"})," directory in the Docker image, and calls the ",(0,t.jsx)(n.a,{href:"/km-docusaurus-test/r/r_uploadandscan",children:(0,t.jsx)(n.code,{children:"uploadandscan"})})," call in a development sandbox. The values for the ",(0,t.jsx)(n.code,{children:"-vid"})," and ",(0,t.jsx)(n.code,{children:"-vkey"})," parameters are the ",(0,t.jsx)(n.code,{children:"VID"})," and ",(0,t.jsx)(n.code,{children:"VKEY"})," environment variable names defined in the Environment variables section."]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"To ensure your Veracode API credentials are stored securely, Veracode recommends that you do not store them in the build specification as plain text."})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Optionally, in the Logs section, select to upload the build logs to CloudWatch or S3. The logs include build output for the API wrapper, which you can view in the build history for troubleshooting purposes."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Build your project to ensure it is configured correctly."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Review the build log and resolve any build errors."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Next steps:"})}),"\n",(0,t.jsxs)(n.p,{children:["Add this build project to a ",(0,t.jsx)(n.a,{href:"/km-docusaurus-test/r/t_aws_config_codepipeline_static",children:"new or existing stage in a new or existing pipeline"}),". In the pipeline, the stage to which you add this build project must run after the stage that builds your application."]})]})}function u(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},11151:(e,n,r)=>{r.d(n,{Z:()=>s,a:()=>a});var t=r(67294);const i={},o=t.createContext(i);function a(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);