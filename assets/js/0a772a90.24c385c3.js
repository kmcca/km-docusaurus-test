"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[98414],{7631:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>p,contentTitle:()=>t,default:()=>_,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var a=i(85893),s=i(11151);const r={title:"Pipeline Scan example for using Gradle with Azure DevOps",slug:"/r/Pipeline_Scan_Example_for_Using_Gradle_with_Azure_DevOps"},t=void 0,l={id:"guides/integrations/cicd/pipeline_scan/pipeline_scan_azure_examples/r_azure_scan_yaml_pipeline_gradle_example",title:"Pipeline Scan example for using Gradle with Azure DevOps",description:"This example YAML code shows how to add a Pipeline Scan as a build stage in an Azure DevOps build pipeline that uses Gradle.",source:"@site/docs/guides/04_integrations/03_cicd/09_pipeline_scan/06_pipeline_scan_azure_examples/02_r_azure_scan_yaml_pipeline_gradle_example.md",sourceDirName:"guides/04_integrations/03_cicd/09_pipeline_scan/06_pipeline_scan_azure_examples",slug:"/r/Pipeline_Scan_Example_for_Using_Gradle_with_Azure_DevOps",permalink:"/km-docusaurus-test/r/Pipeline_Scan_Example_for_Using_Gradle_with_Azure_DevOps",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Pipeline Scan example for using Gradle with Azure DevOps",slug:"/r/Pipeline_Scan_Example_for_Using_Gradle_with_Azure_DevOps"},sidebar:"tutorialSidebar",previous:{title:"Pipeline Scan example for an ASP.NET application in Azure DevOps",permalink:"/km-docusaurus-test/r/Pipeline_Scan_Example_for_an_ASPNET_Application_in_Azure_DevOps"},next:{title:"Pipeline scan example for using Maven with Azure DevOps",permalink:"/km-docusaurus-test/r/Pipeline_Scan_Example_for_Using_Maven_with_Azure_DevOps"}},p={},c=[];function o(e){const n={a:"a",code:"code",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"This example YAML code shows how to add a Pipeline Scan as a build stage in an Azure DevOps build pipeline that uses Gradle."}),"\n",(0,a.jsxs)(n.p,{children:["The example includes a script that downloads and unzips ",(0,a.jsx)(n.code,{children:"pipeline-scan-LATEST.zip"}),", to ensure you have the latest version, then runs ",(0,a.jsx)(n.code,{children:"pipeline-scan.jar"})," using your ",(0,a.jsx)(n.a,{href:"/km-docusaurus-test/r/c_api_credentials3",children:"API credentials"}),". For improved stability, Veracode recommends that you change these scripts to use the ",(0,a.jsx)(n.a,{href:"https://hub.docker.com/r/veracode/pipeline-scan",children:"Pipeline Scan Docker image"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"trigger:\n- master\n\npool:\n  vmImage: 'ubuntu-latest'\n\nsteps:\n- task: Gradle@2\n  inputs:\n    workingDirectory: ''\n    gradleWrapperFile: 'gradlew'\n    gradleOptions: '-Xmx3072m'\n    javaHomeOption: 'JDKVersion'\n    jdkVersionOption: '1.8'\n    jdkArchitectureOption: 'x64'\n    publishJUnitResults: true\n    testResultsFiles: '**/TEST-*.xml'\n    tasks: 'build'\n- script: |\n    curl -O -L https://downloads.veracode.com/securityscan/pipeline-scan-LATEST.zip\n  displayName: 'Download Pipeline Scanner'\n- task: ExtractFiles@1\n  inputs:\n    archiveFilePatterns: 'pipeline-scan-LATEST.zip'\n    destinationFolder: 'pipeline'\n    cleanDestinationFolder: false\n- script: |\n      java -jar pipeline\\pipeline-scan.jar --veracode_api_id \"$(VERACODE_API_ID)\" --veracode_api_key \"$(VERACODE_API_KEY)\" --file \"example.jar\" --fail_on_severity=\"Very High, High\" --fail_on_cwe=\"80\"\n  env:\n    VERACODE_API_ID: $(VERACODE_API_ID)\n    VERACODE_API_KEY: $(VERACODE_API_KEY)\n  displayName: 'Run Pipeline Scan'\n"})})]})}function _(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},11151:(e,n,i)=>{i.d(n,{Z:()=>l,a:()=>t});var a=i(67294);const s={},r=a.createContext(s);function t(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);