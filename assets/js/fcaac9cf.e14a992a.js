"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[78578],{70474:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>a,toc:()=>c});var r=n(85893),s=n(11151);const t={title:"Fix example transitive vulnerability for NPM",slug:"/r/Fix_Example_Transitive_Vulnerability_for_NPM"},o=void 0,a={id:"guides/SCA/using_agent_based_scans/finding_and_fixing_vulnerabilities/javascript_sca_agent/fix_example_npm_transitive",title:"Fix example transitive vulnerability for NPM",description:"Because NPM projects allow for multiple versions of the same library, you cannot override a vulnerable library by adding the appropriate version directly to the configuration file.",source:"@site/docs/guides/07_SCA/04_using_agent_based_scans/19_finding_and_fixing_vulnerabilities/03_javascript_sca_agent/03_fix_example_npm_transitive.md",sourceDirName:"guides/07_SCA/04_using_agent_based_scans/19_finding_and_fixing_vulnerabilities/03_javascript_sca_agent",slug:"/r/Fix_Example_Transitive_Vulnerability_for_NPM",permalink:"/km-docusaurus-test/r/Fix_Example_Transitive_Vulnerability_for_NPM",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Fix example transitive vulnerability for NPM",slug:"/r/Fix_Example_Transitive_Vulnerability_for_NPM"},sidebar:"tutorialSidebar",previous:{title:"Fix example direct vulnerability for NPM",permalink:"/km-docusaurus-test/r/Fix_Example_Direct_Vulnerability_for_NPM"},next:{title:"Fix example transitive vulnerability for NPM without force resolutions",permalink:"/km-docusaurus-test/r/Fix_Example_Transitive_Vulnerability_for_NPM_Without_Force_Resolutions"}},l={},c=[];function d(e){const i={a:"a",code:"code",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.p,{children:"Because NPM projects allow for multiple versions of the same library, you cannot override a vulnerable library by adding the appropriate version directly to the configuration file."}),"\n",(0,r.jsxs)(i.p,{children:["These steps provide a fix for a ",(0,r.jsx)(i.a,{href:"https://www.sourceclear.com/registry/vulnerabilities/2678",children:"Timing Attack Via Signature Validation"})," vulnerability in ",(0,r.jsx)(i.a,{href:"https://www.sourceclear.com/registry/libraries/610?version=1.0.3",children:"cookie-signature, version 1.0.3"})," in the ",(0,r.jsx)(i.a,{href:"https://github.com/veracode/example-javascript",children:"example-javascript"})," repository. In the example, the recommended version of cookie-signature is 1.0.4."]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Before you begin:"})}),"\n",(0,r.jsxs)(i.p,{children:["You must have already run a Veracode SCA agent-based scan or run the ",(0,r.jsx)(i.code,{children:"npm install"})," command to install dependencies. These actions result in a ",(0,r.jsx)(i.code,{children:"node_modules"})," folder and a ",(0,r.jsx)(i.code,{children:"package-lock.json"})," appearing in your project."]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"To complete this task:"})}),"\n",(0,r.jsxs)(i.ol,{children:["\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["Add this ",(0,r.jsx)(i.code,{children:"resolutions"})," section to your ",(0,r.jsx)(i.code,{children:"package.json"})," file:"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:'"resolutions": {\n  "cookie-signature": "1.0.4"\n}\n'})}),"\n",(0,r.jsxs)(i.p,{children:["If a ",(0,r.jsx)(i.code,{children:"resolutions"})," section already exists, add ",(0,r.jsx)(i.code,{children:'"cookie-signature": "1.0.4"'})," to it."]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["Add this ",(0,r.jsx)(i.code,{children:"scripts"})," section to your ",(0,r.jsx)(i.code,{children:"package.json"})," file:"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:'"scripts": {\n  "preinstall": "npx npm-force-resolutions"\n}\n'})}),"\n",(0,r.jsxs)(i.p,{children:["If a ",(0,r.jsx)(i.code,{children:"scripts"})," section already exists, add ",(0,r.jsx)(i.code,{children:'"preinstall": "npx npm-force-resolutions"'})," to it. This change makes the ",(0,r.jsx)(i.code,{children:"npm install"})," command force the version resolution of the ",(0,r.jsx)(i.code,{children:"cookie-signature"})," library to 1.0.4, according to the ",(0,r.jsx)(i.code,{children:"resolutions"})," section using the ",(0,r.jsx)(i.a,{href:"https://www.npmjs.com/package/npm-force-resolutions",children:"NPM Force Resolutions"})," package."]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["Delete the ",(0,r.jsx)(i.code,{children:"node_modules"})," folder."]}),"\n"]}),"\n",(0,r.jsxs)(i.li,{children:["\n",(0,r.jsxs)(i.p,{children:["Run the ",(0,r.jsx)(i.code,{children:"npm install"})," command to download the updated dependency and ensure the updated version works with your project."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.strong,{children:"Next steps:"})}),"\n",(0,r.jsxs)(i.p,{children:["If you encounter problems using the NPM ",(0,r.jsx)(i.code,{children:"force-resolutions"})," package, you can use ",(0,r.jsx)(i.a,{href:"/km-docusaurus-test/r/Fix_Example_Transitive_Vulnerability_for_NPM_Without_Force_Resolutions",children:"this alternative method"}),"."]})]})}function u(e={}){const{wrapper:i}={...(0,s.a)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},11151:(e,i,n)=>{n.d(i,{Z:()=>a,a:()=>o});var r=n(67294);const s={},t=r.createContext(s);function o(e){const i=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(t.Provider,{value:i},e.children)}}}]);