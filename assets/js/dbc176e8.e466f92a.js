"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1571],{29959:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>u});var i=n(85893),s=n(11151);const o={title:"Configuring a pipelines repository",slug:"/r/c_sc_bitbucket_pipeline"},r=void 0,a={id:"guides/SCA/setting_up_agent_based_scans/continuous_integration/bitbucket/configuring_pipelines_directory",title:"Configuring a pipelines repository",description:"To scan using Veracode Software Composition Analysis (SCA) agent-based scanning, add this YAML to the last default configuration script command in the bitbucket-pipelines.yml file:",source:"@site/docs/guides/07_SCA/03_setting_up_agent_based_scans/01_continuous_integration/03_bitbucket/04_configuring_pipelines_directory.md",sourceDirName:"guides/07_SCA/03_setting_up_agent_based_scans/01_continuous_integration/03_bitbucket",slug:"/r/c_sc_bitbucket_pipeline",permalink:"/km-docusaurus-test/r/c_sc_bitbucket_pipeline",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Configuring a pipelines repository",slug:"/r/c_sc_bitbucket_pipeline"},sidebar:"tutorialSidebar",previous:{title:"Set a Bitbucket repository environment variable",permalink:"/km-docusaurus-test/r/Set_a_Bitbucket_Repository_Environment_Variable"},next:{title:"Integrating agent-based scanning with CircleCI",permalink:"/km-docusaurus-test/r/t_sc_ci_token"}},c={},u=[];function d(e){const t={code:"code",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["To scan using Veracode Software Composition Analysis (SCA) agent-based scanning, add this YAML to the last default configuration script command in the ",(0,i.jsx)(t.code,{children:"bitbucket-pipelines.yml"})," file:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"            pipelines:\n  default:\n    - step:\n        script:\n            - curl -sSL https://download.sourceclear.com/ci.sh | sh        \n"})}),"\n",(0,i.jsx)(t.p,{children:"Commit these changes to trigger a build for your repository, and Veracode SCA performs a scan and displays results to your agent-based scanning environment."}),"\n",(0,i.jsxs)(t.p,{children:["If you want to add Veracode SCA agent-based scanning to other repositories, add the installation code above to any ",(0,i.jsx)(t.code,{children:"bitbucket-pipelines.yml"})," files you want."]}),"\n",(0,i.jsxs)(t.p,{children:["After you add the ",(0,i.jsx)(t.code,{children:"SRCCLR_API_TOKEN"})," environment variable, you can perform scans on each new build."]})]})}function p(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},11151:(e,t,n)=>{n.d(t,{Z:()=>a,a:()=>r});var i=n(67294);const s={},o=i.createContext(s);function r(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);